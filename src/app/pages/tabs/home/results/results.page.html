<ion-header>
  <div class="p-3 bg-color2 row justify-content-between align-items-center m-0">
    <button (click)="back()" class="btn5 pt-2 pb-2">Regresar</button>
    <p class="titlep mt-2 text-white">{{id}}</p>
    <div class="row align-items-center m-0">
      <img [routerLink]="['/']" width="60" src="/assets/img/logo.jpeg">
    </div>
  </div>
</ion-header>

<ion-content>
  <div class="p-3 row m-0" >


        <div *ngFor="let companyData of companiesData"  class="item row m-0 col-12 p-0 mb-4">
            <div [routerLink]="['/tabs/home/profile/'+companyData.id]" class="col-12 m-0 p-0 row justify-content-center">


                <div *ngIf="companyData.image && companyData.image.indexOf('data:image') > -1" class="img-item" [ngStyle]="{'background-image': 'url('+companyData.image+')'}"></div>            
                <div *ngIf="companyData.image && companyData.image.indexOf('data:image') === -1" class="img-item" [ngStyle]="{'background-image': 'url('+ urlBackEnd + getUriImage(companyData.image) +')'}"></div>            
                <div *ngIf="!companyData.image" class="img-item"></div>            
            </div>
            <div class="p-3 col-12">
                <div [routerLink]="['/tabs/home/profile/'+companyData.id]" class="row m-0 justify-content-between">
                    <span class="f-11 font-700">{{companyData.comercialname}}</span>
                    <span class="f-11 font-700 text-color6">{{companyData.distance}}</span>
                </div>
                <div [routerLink]="['/tabs/home/profile/'+companyData.id]" class="row m-0 justify-content-between mt-2">
                    <p class="f-10" *ngIf="companyData.address1 && companyData.address1 != '' && companyData.address1 != 'null'">{{companyData.address1.substring(0,80)}}<ng-container *ngIf="companyData.address1.length > 79">...</ng-container></p>         
                </div>   
                <div class="row m-0 justify-content-between align-items-start">
                    <div class="row m-0">
                        <a (click)="general.saveEvent('call', companyData.id)" href="tel:{{companyData.phone1}}" class="btn1 flex-1 pt-2 pb-2 mr-2 font-700 text-center link-unstyled">LLAMADA</a>
                        <button (click)="message(companyData.userid, companyData.id)" class="btn2 flex-1 pt-2 pb-2 font-700">MENSAJE</button>
                    </div>
                    <div>
                        <img (click)="addFeaturedCompanies(companyData.id, $event)" width="30" [src]="companyData.idfeatured ? '/assets/img/partials/star.svg' : '/assets/img/partials/star-g.svg'" alt="">
                        <img (click)="share(companyData.id)" width="22" class="ml-2" src="/assets/img/partials/share.svg" alt="">
                    </div>
                   
                   
                </div>            
            </div>
        </div>

    </div>
    <div id="map"></div>

</ion-content>



<div *ngIf="isLoad" class="load">
  <img src="/assets/img/partials/load.svg">
</div>