{"version":3,"sources":["webpack:///src/app/pages/tabs-provider/portfolio/offers-provider/offers-provider.page.html","webpack:///src/app/pages/tabs-provider/portfolio/offers-provider/offers-provider-routing.module.ts","webpack:///src/app/pages/tabs-provider/portfolio/offers-provider/offers-provider.module.ts","webpack:///src/app/pages/tabs-provider/portfolio/offers-provider/offers-provider.page.scss","webpack:///src/app/pages/tabs-provider/portfolio/offers-provider/offers-provider.page.ts"],"names":["routes","path","component","loadChildren","then","m","EditOffersPageModule","OffersProviderPageRoutingModule","imports","forChild","exports","OffersProviderPageModule","declarations","OffersProviderPage","route","router","api","cookie","general","storage","isVisible","contentModal","response","offers","urlBackEnd","getUrlImages","isVisibleModal","currentDescription","isLoad","validateSession","getOffers","localStorage","getItem","user","JSON","parse","window","location","href","history","back","data","service","userid","id","token","c","subscribe","res","status","error","offerid","deleteOffer","refFromURL","image","encodeURI","text","showModal","selector","template"],"mappings":"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","file":"offers-provider-offers-provider-module-es5.js","sourcesContent":["export default \"<!-- <ion-header>\\n  <ion-toolbar>\\n    <ion-title>offers-provider</ion-title>\\n  </ion-toolbar>\\n</ion-header> -->\\n\\n<ion-content>\\n  <header class=\\\"pt-3 pr-3 pl-3\\\">\\n      <button  (click)=\\\"back()\\\" class=\\\"btn1 pt-2 pb-2\\\">Regresar</button>\\n  </header>\\n\\n  <hr class=\\\"linea\\\">\\n\\n  <div class=\\\"row m-0 p-3 justify-content-center align-items-center\\\">\\n      <img [routerLink]=\\\"['edit-offers/0']\\\" class=\\\"add\\\" src=\\\"/assets/img/partials/add.svg\\\">\\n  </div>\\n\\n  <div class=\\\"p-3 row m-0  pb-5 mb-5\\\">\\n      <div *ngFor=\\\"let offer of offers\\\" class=\\\"row m-0 col-12 col-lg-3 p-2 mt-2\\\">\\n          <div class=\\\"item row m-0 col-12 p-0\\\">\\n\\n              <div class=\\\"col-12 m-0 p-0  row justify-content-center\\\">\\n                  <div class=\\\"img-item\\\" [ngStyle]=\\\"{'background-image': 'url('+offer.image+')'}\\\"></div>\\n              </div>\\n              <div class=\\\"ml-3 mt-2\\\">\\n                  <span class=\\\"f-11 font-700\\\">{{offer.name}}</span>\\n                  <div class=\\\"f-10\\\" *ngIf=\\\"offer.description && offer.description != '' && offer.description != 'null'\\\" [innerHTML]=\\\"offer.description.substring(0,60)\\\"></div>\\n                  <div *ngIf=\\\"offer.description && offer.description.length > 59\\\"><span (click)='vermas(offer.description)' class=\\\"cursor font-700 f-10 text-color2\\\">...ver más</span></div> \\n                  <p *ngIf=\\\"offer.price && offer.price != 'null'\\\" class=\\\"f-12 text-color2 font-700 p-0 m-0\\\">S/ {{offer.price | number:'1.2-2'}}</p>\\n                  <p *ngIf=\\\"offer.enable == 1\\\" class=\\\"f-10 text-color2 font-700\\\">Activa</p>\\n                  <p *ngIf=\\\"offer.enable == 0\\\" class=\\\"f-10 text-color5 font-700\\\">No activa</p>\\n              </div>\\n              <div class=\\\"row m-0 col-12 justify-content-between\\\">\\n                  <button [routerLink]=\\\"['edit-offers/'+offer.id]\\\" class=\\\"btn3 mb-3 f-11 font-700 pt-2 pb-2\\\">Editar</button>\\n                  <button (click)=\\\"getOfferByIdAndDelete(offer.id)\\\" class=\\\"btn4 mb-3 f-11 font-700 pt-2 pb-2\\\">Eliminar</button>\\n              </div>\\n          </div>\\n\\n      </div>\\n  </div>\\n\\n  <!-- <app-menu-provider active=\\\"portfolio\\\"></app-menu-provider> -->\\n\\n  <nz-modal [(nzVisible)]=\\\"isVisibleModal\\\" [nzTitle]=\\\"modalTitle\\\" [nzContent]=\\\"modalContent\\\" [nzFooter]=\\\"modalFooter\\\"\\n      (nzOnCancel)=\\\"handleCancel()\\\">\\n      <ng-template #modalTitle>\\n          Descripción\\n      </ng-template>\\n\\n      <ng-template #modalContent>\\n          <p>{{currentDescription}}</p>\\n      </ng-template>\\n\\n      <ng-template #modalFooter>\\n          <button class=\\\"btn1 p-2 pl-3 pr-3\\\" (click)=\\\"handleCancel()\\\">Cerrar</button>\\n      </ng-template>\\n  </nz-modal>\\n\\n  <div *ngIf=\\\"isLoad\\\" class=\\\"load\\\">\\n      <img src=\\\"/assets/img/partials/load.svg\\\">\\n  </div>\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { OffersProviderPage } from './offers-provider.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: OffersProviderPage\n  },\n  {\n    path: 'edit-offers/:id',\n    loadChildren: () => import('./edit-offers/edit-offers.module').then( m => m.EditOffersPageModule)\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class OffersProviderPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { OffersProviderPageRoutingModule } from './offers-provider-routing.module';\n\nimport { OffersProviderPage } from './offers-provider.page';\nimport { ImageCropperModule } from 'ngx-image-cropper';\nimport { NzModalModule } from 'ng-zorro-antd/modal';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    OffersProviderPageRoutingModule,\n    ImageCropperModule,\n    NzModalModule,\n  ],\n  declarations: [OffersProviderPage]\n})\nexport class OffersProviderPageModule {}\n","export default \"/* FONTS */\\n.linea {\\n  border-bottom: solid 3px #e6e6e6;\\n}\\n.item {\\n  box-shadow: 1px 3px 8px 5px #c2c2c2;\\n  border-radius: 10px;\\n}\\n.item .img-item {\\n  background-repeat: no-repeat;\\n  background-size: cover;\\n  background-position: center;\\n  border-radius: 10px 10px 0 0;\\n  min-width: 23.1vw;\\n  max-width: 23.1vw;\\n  max-height: 23.1vw;\\n  min-height: 23.1vw;\\n}\\n.add {\\n  max-width: 40px;\\n}\\n@media (max-width: 992px) {\\n  .item .img-item {\\n    min-width: 85vw;\\n    max-width: 85vw;\\n    max-height: 85vw;\\n    min-height: 85vw;\\n  }\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvdGFicy1wcm92aWRlci9wb3J0Zm9saW8vb2ZmZXJzLXByb3ZpZGVyL0M6XFx3YW1wNjRcXHd3d1xcdmFvcGVydS9zcmNcXHN0eWxlc1xcdmFyaWFibGVzLnNjc3MiLCJzcmMvYXBwL3BhZ2VzL3RhYnMtcHJvdmlkZXIvcG9ydGZvbGlvL29mZmVycy1wcm92aWRlci9DOlxcd2FtcDY0XFx3d3dcXHZhb3BlcnUvc3JjXFxhcHBcXHBhZ2VzXFx0YWJzLXByb3ZpZGVyXFxwb3J0Zm9saW9cXG9mZmVycy1wcm92aWRlclxcb2ZmZXJzLXByb3ZpZGVyLnBhZ2Uuc2NzcyIsInNyYy9hcHAvcGFnZXMvdGFicy1wcm92aWRlci9wb3J0Zm9saW8vb2ZmZXJzLXByb3ZpZGVyL29mZmVycy1wcm92aWRlci5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsVUFBQTtBQ0dBO0VBQ0ksZ0NBQUE7QUNESjtBREtBO0VBR0ksbUNBQUE7RUFDQSxtQkFBQTtBQ0ZKO0FER0k7RUFDSSw0QkFBQTtFQUNBLHNCQUFBO0VBQ0EsMkJBQUE7RUFDQSw0QkFBQTtFQUNBLGlCQUFBO0VBQ0EsaUJBQUE7RUFDQSxrQkFBQTtFQUNBLGtCQUFBO0FDRFI7QURLQTtFQUNJLGVBQUE7QUNGSjtBREtBO0VBRVE7SUFDSSxlQUFBO0lBQ0EsZUFBQTtJQUNBLGdCQUFBO0lBQ0EsZ0JBQUE7RUNIVjtBQUNGIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvdGFicy1wcm92aWRlci9wb3J0Zm9saW8vb2ZmZXJzLXByb3ZpZGVyL29mZmVycy1wcm92aWRlci5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBGT05UUyAqL1xyXG5cclxuJGZvbnRNOiBNeXJpYWRQcm87XHJcbiRmb250VDogVHJlYnVjaGV0TVM7XHJcblxyXG5cclxuLy8gQ09MT1JTIFxyXG5cclxuXHJcbiRjb2xvcjE6ICNmZmUyNjY7XHJcbiRjb2xvcjI6ICMxM2JmOWU7XHJcbiRjb2xvcjM6ICMzMzMzMzM7XHJcbiRjb2xvcjQ6ICM0ZDRkNGQ7XHJcbiRjb2xvcjU6ICM4MDgwODA7XHJcbiRjb2xvcjY6ICNBOUFCQUU7XHJcbiRjb2xvcjc6ICNlNmU2ZTY7XHJcbiRjb2xvcjg6ICNlYzdjOGI7XHJcbiRjb2xvcjk6ICMwMGExOTg7XHJcbiRjb2xvcjEwOiAjMzE0ODhhO1xyXG4iLCJAaW1wb3J0ICcuLy4uLy4uLy4uLy4uLy4uL3N0eWxlcy92YXJpYWJsZXMnO1xyXG5cclxuXHJcbi5saW5lYXtcclxuICAgIGJvcmRlci1ib3R0b206IHNvbGlkIDNweCAkY29sb3I3O1xyXG59XHJcblxyXG5cclxuLml0ZW17XHJcbiAgICAtd2Via2l0LWJveC1zaGFkb3c6IDFweCAzcHggOHB4IDVweCByZ2JhKDE5NCwxOTQsMTk0LDEpO1xyXG4gICAgLW1vei1ib3gtc2hhZG93OiAxcHggM3B4IDhweCA1cHggcmdiYSgxOTQsMTk0LDE5NCwxKTtcclxuICAgIGJveC1zaGFkb3c6IDFweCAzcHggOHB4IDVweCByZ2JhKDE5NCwxOTQsMTk0LDEpO1xyXG4gICAgYm9yZGVyLXJhZGl1czogMTBweDtcclxuICAgIC5pbWctaXRlbXtcclxuICAgICAgICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0O1xyXG4gICAgICAgIGJhY2tncm91bmQtc2l6ZTogY292ZXI7XHJcbiAgICAgICAgYmFja2dyb3VuZC1wb3NpdGlvbjogY2VudGVyO1xyXG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDEwcHggMTBweCAwIDA7ICAgICAgICAgICAgIFxyXG4gICAgICAgIG1pbi13aWR0aDogMjMuMXZ3OyAgICAgICAgXHJcbiAgICAgICAgbWF4LXdpZHRoOiAyMy4xdnc7ICAgICAgICBcclxuICAgICAgICBtYXgtaGVpZ2h0OiAyMy4xdnc7ICAgICAgICBcclxuICAgICAgICBtaW4taGVpZ2h0OiAyMy4xdnc7XHJcbiAgICB9XHJcbn1cclxuXHJcbi5hZGR7XHJcbiAgICBtYXgtd2lkdGg6IDQwcHg7XHJcbn1cclxuXHJcbkBtZWRpYSAobWF4LXdpZHRoOiA5OTJweCkge1xyXG4gICAgLml0ZW17XHJcbiAgICAgICAgLmltZy1pdGVteyAgICBcclxuICAgICAgICAgICAgbWluLXdpZHRoOiA4NXZ3OyAgICAgICAgICAgXHJcbiAgICAgICAgICAgIG1heC13aWR0aDogODV2dzsgICAgICAgIFxyXG4gICAgICAgICAgICBtYXgtaGVpZ2h0OiA4NXZ3OyAgICAgICAgXHJcbiAgICAgICAgICAgIG1pbi1oZWlnaHQ6IDg1dnc7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiLyogRk9OVFMgKi9cbi5saW5lYSB7XG4gIGJvcmRlci1ib3R0b206IHNvbGlkIDNweCAjZTZlNmU2O1xufVxuXG4uaXRlbSB7XG4gIC13ZWJraXQtYm94LXNoYWRvdzogMXB4IDNweCA4cHggNXB4ICNjMmMyYzI7XG4gIC1tb3otYm94LXNoYWRvdzogMXB4IDNweCA4cHggNXB4ICNjMmMyYzI7XG4gIGJveC1zaGFkb3c6IDFweCAzcHggOHB4IDVweCAjYzJjMmMyO1xuICBib3JkZXItcmFkaXVzOiAxMHB4O1xufVxuLml0ZW0gLmltZy1pdGVtIHtcbiAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDtcbiAgYmFja2dyb3VuZC1zaXplOiBjb3ZlcjtcbiAgYmFja2dyb3VuZC1wb3NpdGlvbjogY2VudGVyO1xuICBib3JkZXItcmFkaXVzOiAxMHB4IDEwcHggMCAwO1xuICBtaW4td2lkdGg6IDIzLjF2dztcbiAgbWF4LXdpZHRoOiAyMy4xdnc7XG4gIG1heC1oZWlnaHQ6IDIzLjF2dztcbiAgbWluLWhlaWdodDogMjMuMXZ3O1xufVxuXG4uYWRkIHtcbiAgbWF4LXdpZHRoOiA0MHB4O1xufVxuXG5AbWVkaWEgKG1heC13aWR0aDogOTkycHgpIHtcbiAgLml0ZW0gLmltZy1pdGVtIHtcbiAgICBtaW4td2lkdGg6IDg1dnc7XG4gICAgbWF4LXdpZHRoOiA4NXZ3O1xuICAgIG1heC1oZWlnaHQ6IDg1dnc7XG4gICAgbWluLWhlaWdodDogODV2dztcbiAgfVxufSJdfQ== */\";","import { Component, OnInit } from '@angular/core';\nimport { ApiService } from 'src/app/services/api.service';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { CookieService } from 'ngx-cookie-service';\nimport { GeneralService } from 'src/app/services/general.service';\nimport { AngularFireStorage } from '@angular/fire/storage';\n\n@Component({\n  selector: 'app-offers-provider',\n  templateUrl: './offers-provider.page.html',\n  styleUrls: ['./offers-provider.page.scss'],\n})\nexport class OffersProviderPage implements OnInit {\n\n  user: any;\n  isVisible: boolean = false\n  contentModal: any = null\n  response: string = ''\n  offers: any = []\n  urlBackEnd: any = this.general.getUrlImages('offers');\n\n  isVisibleModal: Boolean = false\n  currentDescription: String = ''\n  isLoad: Boolean = false\n\n  constructor(public route: ActivatedRoute, private router: Router, private api: ApiService, private cookie: CookieService, private general: GeneralService, private storage: AngularFireStorage) {\n  }\n\n  ngOnInit(): void {\n    this.validateSession()\n    \n  }\n\n  ionViewWillEnter() {\n    this.getOffers()\n  }\n\n  validateSession() {\n\n    if (localStorage.getItem('ud')) {\n      this.user = JSON.parse(localStorage.getItem('ud'))\n    } else {\n      window.location.href = '/login'\n    }\n  }\n\n  back() {\n    window.history.back()\n  }\n\n\n  getOffers() {\n\n    let data = {\n      service: 'get-offers',\n      userid: this.user.user.id,\n      token: this.user.token,\n    }\n\n    this.api.c('getOffers pre', data)\n\n    this.api.api(data).subscribe((res: any) => {\n      this.api.c('getOffers', res)\n\n      if (res.status) {\n        this.offers = res.data       \n\n      } else {\n        this.api.c('getOffers false', res)\n      }\n\n    },\n      error => {\n        this.api.c('getOffers error', error)\n      })\n\n  }\n\n  deleteOffer(offerid) {\n    let data = {\n      service: 'delete-offer',\n      offerid: offerid,\n      token: this.user.token,\n    }\n\n    this.api.c('deleteOffer pre', data)\n    this.api.api(data).subscribe((res: any) => {\n      this.api.c('deleteOffer', res)\n      this.getOffers()\n\n    },\n      error => {\n        this.api.c('deleteOffer error', error)\n      })\n\n  }\n\n  getOfferByIdAndDelete(offerid) {\n    this.isLoad = true\n    let data = {\n      service: 'get-offer-by-id',\n      userid: this.user.user.id,\n      offerid: offerid,\n      token: this.user.token,\n    }\n\n    this.api.c('getOfferByIdAndDelete pre', data)\n\n    this.api.api(data).subscribe((res: any) => {\n      this.api.c('getOfferByIdAndDelete', res)\n\n      if (res.status) {\n        this.deleteOffer(offerid)\n        this.storage.storage.refFromURL(res.data.image).delete();\n        this.isLoad = false\n\n      } else {\n        this.api.c('getOfferByIdAndDelete false', res)\n        this.isLoad = false\n      }\n\n    },\n      error => {\n        this.api.c('getOfferByIdAndDelete error', error)\n      })\n\n  }\n\n\n  getUriImage(image) {\n    return encodeURI(image)\n  }\n\n\n  //Modal\n\n  showModal(): void {\n    this.isVisibleModal = true;\n  }\n\n  handleOk(): void {\n    this.isVisibleModal = false;\n  }\n\n  handleCancel(): void {\n    this.isVisibleModal = false;\n  }\n\n  vermas(text) {\n    this.currentDescription = text\n    this.showModal()\n  }\n\n  \n\n}\n\n"]}