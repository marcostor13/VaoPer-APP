(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{RV6K:function(t,e,i){"use strict";i.r(e),i.d(e,"ProductsPageModule",(function(){return M}));var o=i("ofXK"),n=i("3Pt+"),c=i("TEn/"),s=i("tyNb"),r=i("mrSG"),a=i("JAFY"),p=i("fXoL"),l=i("H+bZ"),d=i("b6Qw"),b=i("FQVY");const u=function(t){return{"background-image":t}};function g(t,e){if(1&t&&(p.Wb(0,"ion-slide",20),p.Sb(1,"div",21),p.Vb()),2&t){const t=e.$implicit;p.Db(1),p.oc("ngStyle",p.sc(1,u,"url("+t.image+")"))}}function m(t,e){if(1&t&&(p.Wb(0,"ion-slides",18),p.Hc(1,g,2,3,"ion-slide",19),p.Vb()),2&t){const t=p.ic().$implicit,e=p.ic();p.oc("options",e.slideOpts),p.Db(1),p.oc("ngForOf",t.images)}}function h(t,e){if(1&t&&(p.Ub(0),p.Sb(1,"div",21),p.Tb()),2&t){const t=p.ic().$implicit;p.Db(1),p.oc("ngStyle",p.sc(1,u,"url("+t.image+")"))}}function f(t,e){if(1&t&&p.Sb(0,"div",22),2&t){const t=p.ic().$implicit;p.oc("innerHTML",t.description.substring(0,60),p.Ac)}}function v(t,e){if(1&t){const t=p.Xb();p.Wb(0,"div"),p.Wb(1,"span",23),p.ec("click",(function(){p.zc(t);const e=p.ic().$implicit;return p.ic().presentModal(e.description)})),p.Jc(2,"...ver m\xe1s"),p.Vb(),p.Vb()}}function w(t,e){if(1&t&&(p.Wb(0,"p",24),p.Jc(1),p.jc(2,"number"),p.Vb()),2&t){const t=p.ic().$implicit;p.Db(1),p.Lc("S/ ",p.lc(2,1,t.price.replace(" SOLES",""),"1.2-2"),"")}}function k(t,e){if(1&t&&(p.Wb(0,"div",9),p.Wb(1,"div",10),p.Hc(2,m,2,2,"ion-slides",11),p.Hc(3,h,2,3,"ng-container",12),p.Vb(),p.Wb(4,"div",13),p.Wb(5,"span",14),p.Jc(6),p.Vb(),p.Hc(7,f,1,1,"div",15),p.Hc(8,v,3,0,"div",12),p.Wb(9,"div",16),p.Hc(10,w,3,4,"p",17),p.Vb(),p.Vb(),p.Vb()),2&t){const t=e.$implicit;p.Db(2),p.oc("ngIf",t.images&&t.images.length>0),p.Db(1),p.oc("ngIf",t.image&&(!t.images||0===t.images.length)),p.Db(3),p.Kc(t.name),p.Db(1),p.oc("ngIf",t.description&&""!=t.description&&"null"!=t.description),p.Db(1),p.oc("ngIf",t.description&&t.description.length>59),p.Db(2),p.oc("ngIf",t.price&&"null"!=t.price)}}const y=function(){return["/tabs"]},D=[{path:"",component:(()=>{class t{constructor(t,e,i,o,n,c){this.route=t,this.router=e,this.api=i,this.cookie=o,this.general=n,this.modalController=c,this.isVisible=!1,this.contentModal=null,this.response="",this.products=[],this.urlBackEnd=this.general.getUrlImages("products"),this.companyData={},this.slideOpts={initialSlide:1,speed:400},this.isVisibleModal=!1,this.currentDescription="",this.id=this.route.snapshot.paramMap.get("id"),this.type=this.route.snapshot.paramMap.get("type")}ngOnInit(){this.validateSession()}ionViewWillEnter(){this.getProducts(),this.getCompanyData()}validateSession(){localStorage.getItem("ud")&&(this.user=JSON.parse(localStorage.getItem("ud")))}getProducts(){let t={service:"",companyid:this.id};switch(this.type){case"products":t.service="get-products";break;case"featured":t.service="get-products-featured";break;case"offers":t.service="get-offers",this.urlBackEnd=this.general.getUrlImages("offers")}this.api.c("getProducts pre",t),this.api.api(t).subscribe(t=>{this.api.c("getProducts",t),t.status?this.products=t.data:this.api.c("getProducts false",t)},t=>{this.api.c("getProducts error",t)})}getCompanyData(){this.api.api({companyid:this.id,service:"get-company-data2"}).subscribe(t=>{this.api.c("getCompanyData",t),t.status?this.companyData=t.data:this.api.c("getCompanyData False",t)},t=>{this.api.c("Error getCompanyData",t)})}getUriImage(t){return encodeURI(t)}redirect(t){this.router.navigate([t])}back(){window.history.back()}getFirstImage(t){return t[0].image}showModal(){this.isVisibleModal=!0}handleOk(){this.isVisibleModal=!1}handleCancel(){this.isVisibleModal=!1}vermas(t){this.currentDescription=t,this.showModal()}message(t,e,i){i&&(window.location.href=`https://api.whatsapp.com/send?phone=51${i}&text=Hola, soy usuario VAO`),this.general.saveEvent("message",e)}createChat(t,e){return this.api.createChat({collection:"chats",token:this.user.token,useridOri:t,useridDes:e}),!0}presentModal(t){return Object(r.__awaiter)(this,void 0,void 0,(function*(){const e=yield this.modalController.create({component:a.a,cssClass:"modal-class",componentProps:{title:"Descripci\xf3n",content:t,modal:this}});return yield e.present()}))}}return t.\u0275fac=function(e){return new(e||t)(p.Rb(s.a),p.Rb(s.j),p.Rb(l.a),p.Rb(d.a),p.Rb(b.a),p.Rb(c.q))},t.\u0275cmp=p.Lb({type:t,selectors:[["app-products"]],decls:14,vars:4,consts:[[1,"p-3","bg-color2","row","justify-content-between","m-0"],[1,"btn5","pt-2","pb-2",3,"click"],[1,"row","align-items-center","m-0"],["width","60","src","/assets/img/logo.jpeg",3,"routerLink"],[1,"p-3","row","m-0","pb-5","mb-5"],[1,"row","m-0","col-12","justify-content-center"],[1,"btn1","flex-1","pb-2","mr-2","font-700","text-center","link-unstyled","pt-2",3,"href"],[1,"btn2","flex-1","pb-2","font-700","pt-2",3,"click"],["class","item row m-0 col-12 p-0 mt-4 overflow-hidden",4,"ngFor","ngForOf"],[1,"item","row","m-0","col-12","p-0","mt-4","overflow-hidden"],[1,"col-12","m-0","p-0","carouselproducts"],["pager","true","class","",3,"options",4,"ngIf"],[4,"ngIf"],[1,"ml-3","mt-2","col-12","m-0","p-0","pr-4","pb-4"],[1,"f-11","font-700"],["class","f-10",3,"innerHTML",4,"ngIf"],[1,"row","m-0","col-11","justify-content-between","p-0"],["class","f-12 text-color2 font-700",4,"ngIf"],["pager","true",1,"",3,"options"],["class","",4,"ngFor","ngForOf"],[1,""],[1,"img-item",3,"ngStyle"],[1,"f-10",3,"innerHTML"],[1,"cursor","font-700","f-10","text-color2",3,"click"],[1,"f-12","text-color2","font-700"]],template:function(t,e){1&t&&(p.Wb(0,"ion-header"),p.Wb(1,"div",0),p.Wb(2,"button",1),p.ec("click",(function(){return e.back()})),p.Jc(3,"Regresar"),p.Vb(),p.Wb(4,"div",2),p.Sb(5,"img",3),p.Vb(),p.Vb(),p.Vb(),p.Wb(6,"ion-content"),p.Wb(7,"div",4),p.Wb(8,"div",5),p.Wb(9,"a",6),p.Jc(10,"LLAMADA"),p.Vb(),p.Wb(11,"button",7),p.ec("click",(function(){return e.message(e.companyData.userid,e.companyData.id,e.companyData.phone1)})),p.Jc(12,"WHATSAPP"),p.Vb(),p.Vb(),p.Hc(13,k,11,6,"div",8),p.Vb(),p.Vb()),2&t&&(p.Db(5),p.oc("routerLink",p.rc(3,y)),p.Db(4),p.qc("href","tel:",e.companyData.phone1,"",p.Bc),p.Db(4),p.oc("ngForOf",e.products))},directives:[c.e,c.s,s.k,c.d,o.k,o.l,c.i,c.h,o.m],pipes:[o.e],styles:[".linea[_ngcontent-%COMP%]{border-bottom:3px solid #e6e6e6}.main-photo[_ngcontent-%COMP%]{background-color:#e6e6e6}.imgProfileEdit[_ngcontent-%COMP%], .main-photo[_ngcontent-%COMP%]{border-radius:10px;min-height:260px}.imgProfileEdit[_ngcontent-%COMP%]{background-color:#fff;background-size:cover;background-repeat:no-repeat;background-position:50%}.item[_ngcontent-%COMP%]{margin-top:20px!important;box-shadow:1px 3px 8px 5px #c2c2c2;border-radius:10px}.item[_ngcontent-%COMP%]   .img-item[_ngcontent-%COMP%]{background-repeat:no-repeat;background-size:cover;background-position:50%;background-color:#e6e6e6;border-radius:10px 10px 0 0;max-width:100%;min-width:100%;max-height:90.8vw;min-height:90.8vw}[_ngcontent-%COMP%]:focus{outline:0}.img-item2[_ngcontent-%COMP%]{background-size:cover;background-repeat:no-repeat;background-position:50%;min-height:300px!important;min-width:100%!important}"]}),t})()}];let V=(()=>{class t{}return t.\u0275mod=p.Pb({type:t}),t.\u0275inj=p.Ob({factory:function(e){return new(e||t)},imports:[[s.l.forChild(D)],s.l]}),t})(),M=(()=>{class t{}return t.\u0275mod=p.Pb({type:t}),t.\u0275inj=p.Ob({factory:function(e){return new(e||t)},imports:[[o.c,n.c,c.o,V]]}),t})()}}]);