function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{RV6K:function(e,t,i){"use strict";i.r(t),i.d(t,"ProductsPageModule",(function(){return O}));var n=i("ofXK"),o=i("3Pt+"),c=i("TEn/"),r=i("tyNb"),a=i("mrSG"),s=i("JAFY"),u=i("fXoL"),l=i("H+bZ"),p=i("b6Qw"),d=i("FQVY"),b=function(e){return{"background-image":e}};function f(e,t){if(1&e&&(u.Wb(0,"ion-slide",20),u.Sb(1,"div",21),u.Vb()),2&e){var i=t.$implicit;u.Db(1),u.oc("ngStyle",u.sc(1,b,"url("+i.image+")"))}}function g(e,t){if(1&e&&(u.Wb(0,"ion-slides",18),u.Hc(1,f,2,3,"ion-slide",19),u.Vb()),2&e){var i=u.ic().$implicit,n=u.ic();u.oc("options",n.slideOpts),u.Db(1),u.oc("ngForOf",i.images)}}function m(e,t){if(1&e&&(u.Ub(0),u.Sb(1,"div",21),u.Tb()),2&e){var i=u.ic().$implicit;u.Db(1),u.oc("ngStyle",u.sc(1,b,"url("+i.image+")"))}}function h(e,t){if(1&e&&u.Sb(0,"div",22),2&e){var i=u.ic().$implicit;u.oc("innerHTML",i.description.substring(0,60),u.Ac)}}function v(e,t){if(1&e){var i=u.Xb();u.Wb(0,"div"),u.Wb(1,"span",23),u.ec("click",(function(){u.zc(i);var e=u.ic().$implicit;return u.ic().presentModal(e.description)})),u.Jc(2,"...ver m\xe1s"),u.Vb(),u.Vb()}}function k(e,t){if(1&e&&(u.Wb(0,"p",24),u.Jc(1),u.jc(2,"number"),u.Vb()),2&e){var i=u.ic().$implicit;u.Db(1),u.Lc("S/ ",u.lc(2,1,i.price.replace(" SOLES",""),"1.2-2"),"")}}function y(e,t){if(1&e&&(u.Wb(0,"div",9),u.Wb(1,"div",10),u.Hc(2,g,2,2,"ion-slides",11),u.Hc(3,m,2,3,"ng-container",12),u.Vb(),u.Wb(4,"div",13),u.Wb(5,"span",14),u.Jc(6),u.Vb(),u.Hc(7,h,1,1,"div",15),u.Hc(8,v,3,0,"div",12),u.Wb(9,"div",16),u.Hc(10,k,3,4,"p",17),u.Vb(),u.Vb(),u.Vb()),2&e){var i=t.$implicit;u.Db(2),u.oc("ngIf",i.images&&i.images.length>0),u.Db(1),u.oc("ngIf",i.image&&(!i.images||0===i.images.length)),u.Db(3),u.Kc(i.name),u.Db(1),u.oc("ngIf",i.description&&""!=i.description&&"null"!=i.description),u.Db(1),u.oc("ngIf",i.description&&i.description.length>59),u.Db(2),u.oc("ngIf",i.price&&"null"!=i.price)}}var w,C,P,D=function(){return["/tabs"]},V=[{path:"",component:(w=function(){function e(t,i,n,o,c,r){_classCallCheck(this,e),this.route=t,this.router=i,this.api=n,this.cookie=o,this.general=c,this.modalController=r,this.isVisible=!1,this.contentModal=null,this.response="",this.products=[],this.urlBackEnd=this.general.getUrlImages("products"),this.companyData={},this.slideOpts={initialSlide:1,speed:400},this.isVisibleModal=!1,this.currentDescription="",this.id=this.route.snapshot.paramMap.get("id"),this.type=this.route.snapshot.paramMap.get("type")}return _createClass(e,[{key:"ngOnInit",value:function(){this.validateSession()}},{key:"ionViewWillEnter",value:function(){this.getProducts(),this.getCompanyData()}},{key:"validateSession",value:function(){localStorage.getItem("ud")&&(this.user=JSON.parse(localStorage.getItem("ud")))}},{key:"getProducts",value:function(){var e=this,t={service:"",companyid:this.id};switch(this.type){case"products":t.service="get-products";break;case"featured":t.service="get-products-featured";break;case"offers":t.service="get-offers",this.urlBackEnd=this.general.getUrlImages("offers")}this.api.c("getProducts pre",t),this.api.api(t).subscribe((function(t){e.api.c("getProducts",t),t.status?e.products=t.data:e.api.c("getProducts false",t)}),(function(t){e.api.c("getProducts error",t)}))}},{key:"getCompanyData",value:function(){var e=this;this.api.api({companyid:this.id,service:"get-company-data2"}).subscribe((function(t){e.api.c("getCompanyData",t),t.status?e.companyData=t.data:e.api.c("getCompanyData False",t)}),(function(t){e.api.c("Error getCompanyData",t)}))}},{key:"getUriImage",value:function(e){return encodeURI(e)}},{key:"redirect",value:function(e){this.router.navigate([e])}},{key:"back",value:function(){window.history.back()}},{key:"getFirstImage",value:function(e){return e[0].image}},{key:"showModal",value:function(){this.isVisibleModal=!0}},{key:"handleOk",value:function(){this.isVisibleModal=!1}},{key:"handleCancel",value:function(){this.isVisibleModal=!1}},{key:"vermas",value:function(e){this.currentDescription=e,this.showModal()}},{key:"message",value:function(e,t,i){i&&(window.location.href="https://api.whatsapp.com/send?phone=51".concat(i,"&text=Hola, soy usuario VAO")),this.general.saveEvent("message",t)}},{key:"createChat",value:function(e,t){return this.api.createChat({collection:"chats",token:this.user.token,useridOri:e,useridDes:t}),!0}},{key:"presentModal",value:function(e){return Object(a.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.modalController.create({component:s.a,cssClass:"modal-class",componentProps:{title:"Descripci\xf3n",content:e,modal:this}});case 2:return i=t.sent,t.next=5,i.present();case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t,this)})))}}]),e}(),w.\u0275fac=function(e){return new(e||w)(u.Rb(r.a),u.Rb(r.j),u.Rb(l.a),u.Rb(p.a),u.Rb(d.a),u.Rb(c.q))},w.\u0275cmp=u.Lb({type:w,selectors:[["app-products"]],decls:14,vars:4,consts:[[1,"p-3","bg-color2","row","justify-content-between","m-0"],[1,"btn5","pt-2","pb-2",3,"click"],[1,"row","align-items-center","m-0"],["width","60","src","/assets/img/logo.jpeg",3,"routerLink"],[1,"p-3","row","m-0","pb-5","mb-5"],[1,"row","m-0","col-12","justify-content-center"],[1,"btn1","flex-1","pb-2","mr-2","font-700","text-center","link-unstyled","pt-2",3,"href"],[1,"btn2","flex-1","pb-2","font-700","pt-2",3,"click"],["class","item row m-0 col-12 p-0 mt-4 overflow-hidden",4,"ngFor","ngForOf"],[1,"item","row","m-0","col-12","p-0","mt-4","overflow-hidden"],[1,"col-12","m-0","p-0","carouselproducts"],["pager","true","class","",3,"options",4,"ngIf"],[4,"ngIf"],[1,"ml-3","mt-2","col-12","m-0","p-0","pr-4","pb-4"],[1,"f-11","font-700"],["class","f-10",3,"innerHTML",4,"ngIf"],[1,"row","m-0","col-11","justify-content-between","p-0"],["class","f-12 text-color2 font-700",4,"ngIf"],["pager","true",1,"",3,"options"],["class","",4,"ngFor","ngForOf"],[1,""],[1,"img-item",3,"ngStyle"],[1,"f-10",3,"innerHTML"],[1,"cursor","font-700","f-10","text-color2",3,"click"],[1,"f-12","text-color2","font-700"]],template:function(e,t){1&e&&(u.Wb(0,"ion-header"),u.Wb(1,"div",0),u.Wb(2,"button",1),u.ec("click",(function(){return t.back()})),u.Jc(3,"Regresar"),u.Vb(),u.Wb(4,"div",2),u.Sb(5,"img",3),u.Vb(),u.Vb(),u.Vb(),u.Wb(6,"ion-content"),u.Wb(7,"div",4),u.Wb(8,"div",5),u.Wb(9,"a",6),u.Jc(10,"LLAMADA"),u.Vb(),u.Wb(11,"button",7),u.ec("click",(function(){return t.message(t.companyData.userid,t.companyData.id,t.companyData.phone1)})),u.Jc(12,"WHATSAPP"),u.Vb(),u.Vb(),u.Hc(13,y,11,6,"div",8),u.Vb(),u.Vb()),2&e&&(u.Db(5),u.oc("routerLink",u.rc(3,D)),u.Db(4),u.qc("href","tel:",t.companyData.phone1,"",u.Bc),u.Db(4),u.oc("ngForOf",t.products))},directives:[c.e,c.s,r.k,c.d,n.k,n.l,c.i,c.h,n.m],pipes:[n.e],styles:[".linea[_ngcontent-%COMP%]{border-bottom:3px solid #e6e6e6}.main-photo[_ngcontent-%COMP%]{background-color:#e6e6e6}.imgProfileEdit[_ngcontent-%COMP%], .main-photo[_ngcontent-%COMP%]{border-radius:10px;min-height:260px}.imgProfileEdit[_ngcontent-%COMP%]{background-color:#fff;background-size:cover;background-repeat:no-repeat;background-position:50%}.item[_ngcontent-%COMP%]{margin-top:20px!important;box-shadow:1px 3px 8px 5px #c2c2c2;border-radius:10px}.item[_ngcontent-%COMP%]   .img-item[_ngcontent-%COMP%]{background-repeat:no-repeat;background-size:cover;background-position:50%;background-color:#e6e6e6;border-radius:10px 10px 0 0;max-width:100%;min-width:100%;max-height:90.8vw;min-height:90.8vw}[_ngcontent-%COMP%]:focus{outline:0}.img-item2[_ngcontent-%COMP%]{background-size:cover;background-repeat:no-repeat;background-position:50%;min-height:300px!important;min-width:100%!important}"]}),w)}],M=((P=function e(){_classCallCheck(this,e)}).\u0275mod=u.Pb({type:P}),P.\u0275inj=u.Ob({factory:function(e){return new(e||P)},imports:[[r.l.forChild(V)],r.l]}),P),O=((C=function e(){_classCallCheck(this,e)}).\u0275mod=u.Pb({type:C}),C.\u0275inj=u.Ob({factory:function(e){return new(e||C)},imports:[[n.c,o.c,c.o,M]]}),C)}}]);