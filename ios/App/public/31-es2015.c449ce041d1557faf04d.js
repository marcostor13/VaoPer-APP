(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{"3Y8D":function(t,i,e){"use strict";e.r(i),e.d(i,"ProductsProviderPageModule",(function(){return $}));var c=e("ofXK"),n=e("3Pt+"),r=e("TEn/"),o=e("tyNb"),s=e("mrSG"),a=e("JAFY"),d=e("fXoL"),u=e("H+bZ"),l=e("b6Qw"),b=e("FQVY");function p(t,i){if(1&t){const t=d.Xb();d.Wb(0,"img",23),d.ec("click",(function(){d.zc(t);const i=d.ic(2).$implicit;return d.ic().saveFeaturedProduct(i.id,0)})),d.Vb()}}function g(t,i){if(1&t){const t=d.Xb();d.Wb(0,"img",24),d.ec("click",(function(){d.zc(t);const i=d.ic(2).$implicit;return d.ic().saveFeaturedProduct(i.id,1)})),d.Vb()}}const m=function(t){return{"background-image":t}};function f(t,i){if(1&t&&(d.Wb(0,"div",19),d.Wb(1,"div",20),d.Hc(2,p,1,0,"img",21),d.Hc(3,g,1,0,"img",22),d.Vb(),d.Vb()),2&t){const t=d.ic().$implicit,i=d.ic();d.oc("ngStyle",d.sc(3,m,"url("+i.getFirstImage(t.images)+")")),d.Db(2),d.oc("ngIf",1==t.featured),d.Db(1),d.oc("ngIf",0==t.featured)}}function h(t,i){if(1&t){const t=d.Xb();d.Wb(0,"img",23),d.ec("click",(function(){d.zc(t);const i=d.ic(3).$implicit;return d.ic().saveFeaturedProduct(i.id,0)})),d.Vb()}}function v(t,i){if(1&t){const t=d.Xb();d.Wb(0,"img",24),d.ec("click",(function(){d.zc(t);const i=d.ic(3).$implicit;return d.ic().saveFeaturedProduct(i.id,1)})),d.Vb()}}function w(t,i){if(1&t&&(d.Wb(0,"div",19),d.Wb(1,"div",20),d.Hc(2,h,1,0,"img",21),d.Hc(3,v,1,0,"img",22),d.Vb(),d.Vb()),2&t){const t=d.ic(2).$implicit;d.oc("ngStyle",d.sc(3,m,"url("+t.image+")")),d.Db(2),d.oc("ngIf",1==t.featured),d.Db(1),d.oc("ngIf",0==t.featured)}}function P(t,i){if(1&t){const t=d.Xb();d.Wb(0,"img",23),d.ec("click",(function(){d.zc(t);const i=d.ic(3).$implicit;return d.ic().saveFeaturedProduct(i.id,0)})),d.Vb()}}function k(t,i){if(1&t){const t=d.Xb();d.Wb(0,"img",24),d.ec("click",(function(){d.zc(t);const i=d.ic(3).$implicit;return d.ic().saveFeaturedProduct(i.id,1)})),d.Vb()}}function V(t,i){if(1&t&&(d.Wb(0,"div",19),d.Wb(1,"div",20),d.Hc(2,P,1,0,"img",21),d.Hc(3,k,1,0,"img",22),d.Vb(),d.Vb()),2&t){const t=d.ic(2).$implicit,i=d.ic();d.oc("ngStyle",d.sc(3,m,"url("+i.urlBackEnd+i.getUriImage(t.image)+")")),d.Db(2),d.oc("ngIf",1==t.featured),d.Db(1),d.oc("ngIf",0==t.featured)}}function W(t,i){if(1&t&&(d.Ub(0),d.Hc(1,w,4,5,"div",9),d.Hc(2,V,4,5,"div",9),d.Tb()),2&t){const t=d.ic().$implicit;d.Db(1),d.oc("ngIf",t.image.indexOf("data:image")>-1),d.Db(1),d.oc("ngIf",-1===t.image.indexOf("data:image"))}}function I(t,i){if(1&t&&d.Sb(0,"div",25),2&t){const t=d.ic().$implicit;d.oc("innerHTML",t.description.substring(0,60),d.Ac)}}function x(t,i){if(1&t){const t=d.Xb();d.Wb(0,"div"),d.Wb(1,"span",26),d.ec("click",(function(){d.zc(t);const i=d.ic().$implicit;return d.ic().presentModal(i.description)})),d.Jc(2,"...ver m\xe1s"),d.Vb(),d.Vb()}}function D(t,i){if(1&t&&(d.Wb(0,"p",27),d.Jc(1),d.jc(2,"number"),d.Vb()),2&t){const t=d.ic().$implicit;d.Db(1),d.Lc("S/ ",d.lc(2,1,t.price,"1.2-2"),"")}}const M=function(t){return[t]};function y(t,i){if(1&t){const t=d.Xb();d.Wb(0,"div",6),d.Wb(1,"div",7),d.Wb(2,"div",8),d.Hc(3,f,4,5,"div",9),d.Hc(4,W,3,2,"ng-container",10),d.Vb(),d.Wb(5,"div",11),d.Wb(6,"span",12),d.Jc(7),d.Vb(),d.Hc(8,I,1,1,"div",13),d.Hc(9,x,3,0,"div",10),d.Wb(10,"div",14),d.Hc(11,D,3,4,"p",15),d.Wb(12,"div",16),d.Wb(13,"button",17),d.Jc(14,"Editar"),d.Vb(),d.Wb(15,"button",18),d.ec("click",(function(){d.zc(t);const e=i.$implicit;return d.ic().deleteProduct(e.id)})),d.Jc(16,"Eliminar"),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb()}if(2&t){const t=i.$implicit,e=d.ic();d.Db(3),d.oc("ngIf",t.images&&t.images.length>0),d.Db(1),d.oc("ngIf",!t.images||0===t.images.length),d.Db(3),d.Kc(t.name),d.Db(1),d.oc("ngIf",t.description&&""!=t.description&&"null"!=t.description),d.Db(1),d.oc("ngIf",t.description&&t.description.length>59),d.Db(2),d.oc("ngIf",t.price&&"null"!=t.price&&e.isNumber(t.price)),d.Db(2),d.oc("routerLink",d.sc(7,M,"/tabs-provider/portfolio/products-provider/edit-products/"+t.id))}}const H=function(){return["/tabs-provider/portfolio"]},O=function(){return["/tabs-provider/portfolio/products-provider/edit-products/0"]},F=[{path:"",component:(()=>{class t{constructor(t,i,e,c,n,r){this.route=t,this.router=i,this.api=e,this.cookie=c,this.general=n,this.modalController=r,this.isVisible=!1,this.contentModal=null,this.response="",this.products=[],this.urlBackEnd=this.general.getUrlImages("products"),this.isVisibleModal=!1,this.currentDescription=""}ngOnInit(){this.validateSession()}ionViewWillEnter(){this.getProducts()}validateSession(){localStorage.getItem("ud")&&(this.user=JSON.parse(localStorage.getItem("ud")))}getProducts(){let t={service:"get-products",userid:this.user.user.id,token:this.user.token};this.api.c("getProducts pre",t),this.api.api(t).subscribe(t=>{this.api.c("getProducts",t),t.status?this.products=t.data:this.api.c("getProducts false",t)},t=>{this.api.c("getProducts error",t)})}saveFeaturedProduct(t,i){let e={service:"save-featured-product",featured:i,productid:t,token:this.user.token};this.api.c("saveFeaturedProduct pre",e),this.api.api(e).subscribe(t=>{this.api.c("saveFeaturedProduct",t),this.getProducts()},t=>{this.api.c("saveFeaturedProduct error",t)})}deleteProduct(t){let i={service:"delete-product",productid:t,token:this.user.token};this.api.c("deleteProduct pre",i),this.api.api(i).subscribe(t=>{this.api.c("deleteProduct",t),this.getProducts()},t=>{this.api.c("deleteProduct error",t)})}isJson(t){try{JSON.parse(t)}catch(i){return!1}return!0}getUriImage(t){return encodeURI(t)}getFirstImage(t){return t[0].image}redirect(t){this.router.navigate([t])}showModal(){this.isVisibleModal=!0}handleOk(){this.isVisibleModal=!1}handleCancel(){this.isVisibleModal=!1}vermas(t){this.currentDescription=t,this.showModal()}presentModal(t){return Object(s.__awaiter)(this,void 0,void 0,(function*(){const i=yield this.modalController.create({component:a.a,cssClass:"modal-class",componentProps:{title:"Descripci\xf3n",content:t,modal:this}});return yield i.present()}))}isNumber(t){return!isNaN(Number(t))}}return t.\u0275fac=function(i){return new(i||t)(d.Rb(o.a),d.Rb(o.j),d.Rb(u.a),d.Rb(l.a),d.Rb(b.a),d.Rb(r.q))},t.\u0275cmp=d.Lb({type:t,selectors:[["app-products-provider"]],decls:9,vars:5,consts:[[1,"p-3"],[1,"btn1","pt-2","pb-2",3,"routerLink"],[1,"row","m-0","p-3","justify-content-center","align-items-center"],["src","/assets/img/partials/add.svg",1,"add",3,"routerLink"],[1,"p-3","row","m-0","col-12"],["class","row m-0 col-12 col-lg-3 p-2 mt-2",4,"ngFor","ngForOf"],[1,"row","m-0","col-12","col-lg-3","p-2","mt-2"],[1,"item","row","m-0","col-12","p-0"],[1,"col-12","m-0","p-0","row","justify-content-center"],["class","img-item",3,"ngStyle",4,"ngIf"],[4,"ngIf"],[1,"ml-3","mt-2","col-12","m-0","p-0"],[1,"f-11","font-700"],["class","f-10 pr-3",3,"innerHTML",4,"ngIf"],[1,"row","m-0","col-11","justify-content-between","p-0"],["class","f-12 text-color2 font-700",4,"ngIf"],[1,"row","m-0","mt-2","justify-content-between","col-12","p-0"],[1,"btn3","mb-3","f-11","font-700","pt-2","pb-2",3,"routerLink"],[1,"btn4","mb-3","f-11","font-700","pt-2","pb-2",3,"click"],[1,"img-item",3,"ngStyle"],[1,"row","m-0","col-12","justify-content-end"],["width","30","class","mt-3","src","/assets/img/partials/star.svg","alt","",3,"click",4,"ngIf"],["width","30","class","mt-3","src","/assets/img/partials/star-g.svg","alt","",3,"click",4,"ngIf"],["width","30","src","/assets/img/partials/star.svg","alt","",1,"mt-3",3,"click"],["width","30","src","/assets/img/partials/star-g.svg","alt","",1,"mt-3",3,"click"],[1,"f-10","pr-3",3,"innerHTML"],[1,"cursor","font-700","f-10","text-color2",3,"click"],[1,"f-12","text-color2","font-700"]],template:function(t,i){1&t&&(d.Wb(0,"ion-header"),d.Wb(1,"header",0),d.Wb(2,"button",1),d.Jc(3,"Regresar"),d.Vb(),d.Vb(),d.Vb(),d.Wb(4,"ion-content"),d.Wb(5,"div",2),d.Sb(6,"img",3),d.Vb(),d.Wb(7,"div",4),d.Hc(8,y,17,9,"div",5),d.Vb(),d.Vb()),2&t&&(d.Db(2),d.oc("routerLink",d.rc(3,H)),d.Db(4),d.oc("routerLink",d.rc(4,O)),d.Db(2),d.oc("ngForOf",i.products))},directives:[r.e,r.s,o.k,r.d,c.k,c.l,c.m],pipes:[c.e],styles:[".linea[_ngcontent-%COMP%]{border-bottom:3px solid #e6e6e6}.item[_ngcontent-%COMP%]{box-shadow:1px 3px 8px 5px #c2c2c2;border-radius:10px}.item[_ngcontent-%COMP%]   .img-item[_ngcontent-%COMP%]{background-repeat:no-repeat;background-size:cover;background-color:#e6e6e6;background-position:50%;border-radius:10px 10px 0 0;min-width:23.1vw;max-width:23.1vw;max-height:23.1vw;min-height:23.1vw}.add[_ngcontent-%COMP%]{max-width:40px}@media (max-width:992px){.item[_ngcontent-%COMP%]   .img-item[_ngcontent-%COMP%]{min-width:85vw;max-width:85vw;max-height:85vw;min-height:85vw}}"]}),t})()},{path:"edit-products/:id",loadChildren:()=>Promise.all([e.e(1),e.e(3),e.e(30)]).then(e.bind(null,"xp4b")).then(t=>t.EditProductsPageModule)}];let S=(()=>{class t{}return t.\u0275mod=d.Pb({type:t}),t.\u0275inj=d.Ob({factory:function(i){return new(i||t)},imports:[[o.l.forChild(F)],o.l]}),t})(),$=(()=>{class t{}return t.\u0275mod=d.Pb({type:t}),t.\u0275inj=d.Ob({factory:function(i){return new(i||t)},imports:[[c.c,n.c,r.o,S]]}),t})()}}]);