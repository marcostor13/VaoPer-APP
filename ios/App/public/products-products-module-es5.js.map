{"version":3,"sources":["webpack:///src/app/pages/tabs/home/products/products.page.html","webpack:///src/app/pages/tabs/home/products/products-routing.module.ts","webpack:///src/app/pages/tabs/home/products/products.module.ts","webpack:///src/app/pages/tabs/home/products/products.page.scss","webpack:///src/app/pages/tabs/home/products/products.page.ts"],"names":["routes","path","component","ProductsPageRoutingModule","imports","forChild","exports","ProductsPageModule","declarations","ProductsPage","route","router","api","cookie","general","modalController","isVisible","contentModal","response","products","urlBackEnd","getUrlImages","companyData","slideOpts","initialSlide","speed","isVisibleModal","currentDescription","id","snapshot","paramMap","get","type","validateSession","getProducts","getCompanyData","localStorage","getItem","user","JSON","parse","data","service","companyid","c","subscribe","res","status","error","result","image","encodeURI","navigate","window","history","back","array","text","showModal","receptorid","companyDataID","phone1","location","href","saveEvent","useridOri","useridDes","createChat","collection","token","content","create","cssClass","componentProps","modal","present","selector","template"],"mappings":"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","file":"products-products-module-es5.js","sourcesContent":["export default \"<ion-header>\\n  <div class=\\\"p-3 bg-color2 row justify-content-between m-0\\\">\\n      <button (click)=\\\"back()\\\" class=\\\"btn5 pt-2 pb-2\\\">Regresar</button>\\n      <div class=\\\"row align-items-center m-0\\\">\\n          <img [routerLink]=\\\"['/tabs']\\\" width=\\\"60\\\" src=\\\"/assets/img/logo.jpeg\\\">\\n      </div>\\n  </div>\\n</ion-header>\\n\\n<ion-content>\\n  <div class=\\\"p-3 row m-0 pb-5 mb-5\\\">\\n\\n      <div class=\\\"row m-0 col-12 justify-content-center\\\">\\n          <a href=\\\"tel:{{companyData.phone1}}\\\" class=\\\"btn1 flex-1 pb-2 mr-2 font-700 text-center link-unstyled pt-2\\\">LLAMADA</a>\\n          <button (click)=\\\"message(companyData.userid, companyData.id, companyData.phone1)\\\" class=\\\"btn2 flex-1 pb-2 font-700 pt-2\\\">WHATSAPP</button>\\n      </div>\\n\\n      <div *ngFor=\\\"let prod of products\\\" class=\\\"item row m-0 col-12 p-0 mt-4 overflow-hidden\\\">\\n          <div class=\\\"col-12 m-0 p-0 carouselproducts\\\">\\n              <ion-slides *ngIf=\\\"prod.images && prod.images.length > 0\\\" pager=\\\"true\\\" [options]=\\\"slideOpts\\\" class=\\\"\\\">\\n                <ion-slide *ngFor=\\\"let it of prod.images; let i = index\\\" class=\\\"\\\">\\n                    <div class=\\\"img-item\\\" [ngStyle]=\\\"{'background-image': 'url('+ it.image +')'}\\\"></div>\\n                </ion-slide>\\n              </ion-slides>\\n              <ng-container *ngIf=\\\"prod.image && (!prod.images || prod.images.length === 0)\\\">\\n                  <div class=\\\"img-item\\\" [ngStyle]=\\\"{'background-image': 'url('+ prod.image +')'}\\\"></div>\\n                  <!-- <div *ngIf=\\\"prod.image.indexOf('data:image') === -1\\\" class=\\\"img-item\\\" [ngStyle]=\\\"{'background-image': 'url('+ urlBackEnd + getUriImage(prod.image) +')'}\\\"></div> -->\\n              </ng-container>\\n            \\n          </div>\\n          <div class=\\\"ml-3 mt-2 col-12 m-0 p-0 pr-4 pb-4\\\">\\n              <span class=\\\"f-11 font-700\\\">{{prod.name}}</span>\\n              <div class=\\\"f-10\\\" *ngIf=\\\"prod.description && prod.description != '' && prod.description != 'null'\\\" [innerHTML]=\\\"prod.description.substring(0,60)\\\"></div> \\n              <div *ngIf=\\\"prod.description && prod.description.length > 59\\\"><span (click)='presentModal(prod.description)' class=\\\"cursor font-700 f-10 text-color2\\\">...ver m√°s</span></div>\\n              <div class=\\\"row m-0 col-11 justify-content-between p-0\\\">\\n                  <p *ngIf=\\\"prod.price && prod.price != 'null'\\\" class=\\\"f-12 text-color2 font-700\\\">S/ {{prod.price.replace(' SOLES', '') | number:'1.2-2'}}</p>\\n              </div>\\n          </div>\\n      </div>\\n\\n  </div>\\n</ion-content>\\n\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ProductsPage } from './products.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ProductsPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ProductsPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ProductsPageRoutingModule } from './products-routing.module';\n\nimport { ProductsPage } from './products.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ProductsPageRoutingModule\n  ],\n  declarations: [ProductsPage]\n})\nexport class ProductsPageModule {}\n","export default \"/* FONTS */\\n.linea {\\n  border-bottom: solid 3px #e6e6e6;\\n}\\n.main-photo {\\n  border-radius: 10px;\\n  background-color: #e6e6e6;\\n  min-height: 260px;\\n}\\n.imgProfileEdit {\\n  border-radius: 10px;\\n  background-color: white;\\n  min-height: 260px;\\n  background-size: cover;\\n  background-repeat: no-repeat;\\n  background-position: center;\\n}\\n.item {\\n  margin-top: 20px !important;\\n  box-shadow: 1px 3px 8px 5px #c2c2c2;\\n  border-radius: 10px;\\n}\\n.item .img-item {\\n  background-repeat: no-repeat;\\n  background-size: cover;\\n  background-position: center;\\n  background-color: #e6e6e6;\\n  border-radius: 10px 10px 0 0;\\n  max-width: 100%;\\n  min-width: 100%;\\n  max-height: 90.8vw;\\n  min-height: 90.8vw;\\n}\\n:focus {\\n  outline: 0;\\n}\\n.img-item2 {\\n  background-size: cover;\\n  background-repeat: no-repeat;\\n  background-position: center;\\n  min-height: 300px !important;\\n  min-width: 100% !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvdGFicy9ob21lL3Byb2R1Y3RzL0M6XFx3YW1wNjRcXHd3d1xcdmFvcGVydS9zcmNcXHN0eWxlc1xcdmFyaWFibGVzLnNjc3MiLCJzcmMvYXBwL3BhZ2VzL3RhYnMvaG9tZS9wcm9kdWN0cy9DOlxcd2FtcDY0XFx3d3dcXHZhb3BlcnUvc3JjXFxhcHBcXHBhZ2VzXFx0YWJzXFxob21lXFxwcm9kdWN0c1xccHJvZHVjdHMucGFnZS5zY3NzIiwic3JjL2FwcC9wYWdlcy90YWJzL2hvbWUvcHJvZHVjdHMvcHJvZHVjdHMucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLFVBQUE7QUNHQTtFQUNJLGdDQUFBO0FDREo7QURJQTtFQUNJLG1CQUFBO0VBQ0EseUJETUs7RUNMTCxpQkFBQTtBQ0RKO0FESUE7RUFDSSxtQkFBQTtFQUNBLHVCQUFBO0VBQ0EsaUJBQUE7RUFDQSxzQkFBQTtFQUNBLDRCQUFBO0VBQ0EsMkJBQUE7QUNESjtBRElBO0VBQ0ksMkJBQUE7RUFHQSxtQ0FBQTtFQUNBLG1CQUFBO0FDREo7QURFSTtFQUNJLDRCQUFBO0VBQ0Esc0JBQUE7RUFDQSwyQkFBQTtFQUNBLHlCRGpCQztFQ2tCRCw0QkFBQTtFQUNBLGVBQUE7RUFDQSxlQUFBO0VBQ0Esa0JBQUE7RUFDQSxrQkFBQTtBQ0FSO0FESUE7RUFDUSxVQUFBO0FDRFI7QURJQTtFQUNRLHNCQUFBO0VBQ0EsNEJBQUE7RUFDQSwyQkFBQTtFQUNBLDRCQUFBO0VBQ0EsMEJBQUE7QUNEUiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL3RhYnMvaG9tZS9wcm9kdWN0cy9wcm9kdWN0cy5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBGT05UUyAqL1xyXG5cclxuJGZvbnRNOiBNeXJpYWRQcm87XHJcbiRmb250VDogVHJlYnVjaGV0TVM7XHJcblxyXG5cclxuLy8gQ09MT1JTIFxyXG5cclxuXHJcbiRjb2xvcjE6ICNmZmUyNjY7XHJcbiRjb2xvcjI6ICMxM2JmOWU7XHJcbiRjb2xvcjM6ICMzMzMzMzM7XHJcbiRjb2xvcjQ6ICM0ZDRkNGQ7XHJcbiRjb2xvcjU6ICM4MDgwODA7XHJcbiRjb2xvcjY6ICNBOUFCQUU7XHJcbiRjb2xvcjc6ICNlNmU2ZTY7XHJcbiRjb2xvcjg6ICNlYzdjOGI7XHJcbiRjb2xvcjk6ICMwMGExOTg7XHJcbiRjb2xvcjEwOiAjMzE0ODhhO1xyXG4iLCJAaW1wb3J0ICcuLy4uLy4uLy4uLy4uLy4uL3N0eWxlcy92YXJpYWJsZXMnO1xyXG5cclxuXHJcbi5saW5lYXtcclxuICAgIGJvcmRlci1ib3R0b206IHNvbGlkIDNweCAkY29sb3I3O1xyXG59XHJcblxyXG4ubWFpbi1waG90b3tcclxuICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAkY29sb3I3O1xyXG4gICAgbWluLWhlaWdodDogMjYwcHg7XHJcbn1cclxuXHJcbi5pbWdQcm9maWxlRWRpdHtcclxuICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcclxuICAgIG1pbi1oZWlnaHQ6IDI2MHB4O1xyXG4gICAgYmFja2dyb3VuZC1zaXplOiBjb3ZlcjtcclxuICAgIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7XHJcbiAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiBjZW50ZXI7XHJcbn1cclxuXHJcbi5pdGVte1xyXG4gICAgbWFyZ2luLXRvcDoyMHB4ICFpbXBvcnRhbnQ7XHJcbiAgICAtd2Via2l0LWJveC1zaGFkb3c6IDFweCAzcHggOHB4IDVweCByZ2JhKDE5NCwxOTQsMTk0LDEpO1xyXG4gICAgLW1vei1ib3gtc2hhZG93OiAxcHggM3B4IDhweCA1cHggcmdiYSgxOTQsMTk0LDE5NCwxKTtcclxuICAgIGJveC1zaGFkb3c6IDFweCAzcHggOHB4IDVweCByZ2JhKDE5NCwxOTQsMTk0LDEpO1xyXG4gICAgYm9yZGVyLXJhZGl1czogMTBweDtcclxuICAgIC5pbWctaXRlbXtcclxuICAgICAgICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0O1xyXG4gICAgICAgIGJhY2tncm91bmQtc2l6ZTogY292ZXI7XHJcbiAgICAgICAgYmFja2dyb3VuZC1wb3NpdGlvbjogY2VudGVyO1xyXG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6ICRjb2xvcjc7XHJcbiAgICAgICAgYm9yZGVyLXJhZGl1czogMTBweCAxMHB4IDAgMDsgICAgICAgICAgICAgXHJcbiAgICAgICAgbWF4LXdpZHRoOiAxMDAlOyAgICAgICAgXHJcbiAgICAgICAgbWluLXdpZHRoOiAxMDAlO1xyXG4gICAgICAgIG1heC1oZWlnaHQ6IDkwLjh2dztcclxuICAgICAgICBtaW4taGVpZ2h0OiA5MC44dnc7XHJcbiAgICB9XHJcbn1cclxuXHJcbjpmb2N1c3tcclxuICAgICAgICBvdXRsaW5lOiAwO1xyXG4gICAgfVxyXG5cclxuLmltZy1pdGVtMntcclxuICAgICAgICBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyO1xyXG4gICAgICAgIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7XHJcbiAgICAgICAgYmFja2dyb3VuZC1wb3NpdGlvbjogY2VudGVyO1xyXG4gICAgICAgIG1pbi1oZWlnaHQ6IDMwMHB4ICFpbXBvcnRhbnQ7XHJcbiAgICAgICAgbWluLXdpZHRoOiAxMDAlICFpbXBvcnRhbnQ7XHJcbiAgICB9XHJcbiIsIi8qIEZPTlRTICovXG4ubGluZWEge1xuICBib3JkZXItYm90dG9tOiBzb2xpZCAzcHggI2U2ZTZlNjtcbn1cblxuLm1haW4tcGhvdG8ge1xuICBib3JkZXItcmFkaXVzOiAxMHB4O1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZTZlNmU2O1xuICBtaW4taGVpZ2h0OiAyNjBweDtcbn1cblxuLmltZ1Byb2ZpbGVFZGl0IHtcbiAgYm9yZGVyLXJhZGl1czogMTBweDtcbiAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XG4gIG1pbi1oZWlnaHQ6IDI2MHB4O1xuICBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyO1xuICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0O1xuICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiBjZW50ZXI7XG59XG5cbi5pdGVtIHtcbiAgbWFyZ2luLXRvcDogMjBweCAhaW1wb3J0YW50O1xuICAtd2Via2l0LWJveC1zaGFkb3c6IDFweCAzcHggOHB4IDVweCAjYzJjMmMyO1xuICAtbW96LWJveC1zaGFkb3c6IDFweCAzcHggOHB4IDVweCAjYzJjMmMyO1xuICBib3gtc2hhZG93OiAxcHggM3B4IDhweCA1cHggI2MyYzJjMjtcbiAgYm9yZGVyLXJhZGl1czogMTBweDtcbn1cbi5pdGVtIC5pbWctaXRlbSB7XG4gIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7XG4gIGJhY2tncm91bmQtc2l6ZTogY292ZXI7XG4gIGJhY2tncm91bmQtcG9zaXRpb246IGNlbnRlcjtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2U2ZTZlNjtcbiAgYm9yZGVyLXJhZGl1czogMTBweCAxMHB4IDAgMDtcbiAgbWF4LXdpZHRoOiAxMDAlO1xuICBtaW4td2lkdGg6IDEwMCU7XG4gIG1heC1oZWlnaHQ6IDkwLjh2dztcbiAgbWluLWhlaWdodDogOTAuOHZ3O1xufVxuXG46Zm9jdXMge1xuICBvdXRsaW5lOiAwO1xufVxuXG4uaW1nLWl0ZW0yIHtcbiAgYmFja2dyb3VuZC1zaXplOiBjb3ZlcjtcbiAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDtcbiAgYmFja2dyb3VuZC1wb3NpdGlvbjogY2VudGVyO1xuICBtaW4taGVpZ2h0OiAzMDBweCAhaW1wb3J0YW50O1xuICBtaW4td2lkdGg6IDEwMCUgIWltcG9ydGFudDtcbn0iXX0= */\";","import { Component, OnInit } from '@angular/core';\nimport { ApiService } from 'src/app/services/api.service';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { CookieService } from 'ngx-cookie-service';\nimport { GeneralService } from 'src/app/services/general.service';\nimport { ModalController } from '@ionic/angular';\nimport { ModalPage } from './../../../modal/modal.page';\n\n@Component({\n  selector: 'app-products',\n  templateUrl: './products.page.html',\n  styleUrls: ['./products.page.scss'],\n})\nexport class ProductsPage implements OnInit {\n\n  id: any;\n  type: any;\n  //USER\n  user: any;\n  isVisible: boolean = false\n  contentModal: any = null\n  response: string = ''\n  products: any = []\n  urlBackEnd: any = this.general.getUrlImages('products');\n  companyData: any = {}\n\n  slideOpts = {\n    initialSlide: 1,\n    speed: 400\n  };\n\n  //Modal\n  isVisibleModal: Boolean = false\n  currentDescription: String = ''\n\n  constructor(public route: ActivatedRoute, private router: Router, private api: ApiService, private cookie: CookieService, private general: GeneralService, public modalController: ModalController) {\n    this.id = this.route.snapshot.paramMap.get('id')\n    this.type = this.route.snapshot.paramMap.get('type')\n  }\n\n  ngOnInit(): void {\n    this.validateSession()\n    \n  }\n\n  ionViewWillEnter() {\n    this.getProducts()\n    this.getCompanyData()\n  }\n\n  validateSession() {\n\n    if (localStorage.getItem('ud')) {\n      this.user = JSON.parse(localStorage.getItem('ud'))\n    }\n\n  }\n\n\n  getProducts() {\n\n    let data = {\n      service: '',\n      companyid: this.id,\n    }\n\n    switch (this.type) {\n      case 'products':\n        data.service = 'get-products'\n        break;\n      case 'featured':\n        data.service = 'get-products-featured'\n        break;\n      case 'offers':\n        // data.companyid = '';\n        // data['userid'] = this.id;\n        data.service = 'get-offers'\n        this.urlBackEnd = this.general.getUrlImages('offers');\n        break;\n      default:\n        break;\n    }\n\n    this.api.c('getProducts pre', data)\n\n    this.api.api(data).subscribe((res: any) => {\n      this.api.c('getProducts', res)\n\n      if (res.status) {\n        this.products = res.data\n      } else {\n        this.api.c('getProducts false', res)\n      }\n\n    },\n      error => {\n        this.api.c('getProducts error', error)\n      })\n\n  }\n\n  getCompanyData() {\n    let data = {\n      companyid: this.id,\n      service: 'get-company-data2'\n    }\n    this.api.api(data).subscribe((result: any) => {\n      this.api.c('getCompanyData', result)\n\n      if (result.status) {\n        this.companyData = result.data\n      } else {\n        this.api.c('getCompanyData False', result)\n      }\n\n    },\n      error => {\n        this.api.c('Error getCompanyData', error)\n\n      });\n  }\n\n\n\n  getUriImage(image) {\n    return encodeURI(image)\n  }\n\n  redirect(route) {\n    this.router.navigate([route])\n  }\n\n  back() {\n    window.history.back()\n  }\n\n  getFirstImage(array) {\n    return array[0].image;\n  }\n\n  //Modal\n\n  showModal(): void {\n    this.isVisibleModal = true;\n  }\n\n  handleOk(): void {\n    this.isVisibleModal = false;\n  }\n\n  handleCancel(): void {\n    this.isVisibleModal = false;\n  }\n\n  vermas(text) {\n    this.currentDescription = text\n    this.showModal()\n  }\n\n  // getDataCompanyById(){\n  //   let data = {\n  //     companyid: this.id,\n  //     service: 'get-data-company-by-id'\n  //   }\n  //   this.api.api(data).subscribe((result: any) => {\n  //     this.api.c('getDataCompanyById', result)\n\n  //     this.companyData\n\n\n  //   },\n  //     error => {\n  //       this.api.c('Error getCompanyData', error)\n\n  //     });\n  // }\n\n\n\n  message(receptorid, companyDataID, phone1) {\n\n    if (phone1) {\n      window.location.href = `https://api.whatsapp.com/send?phone=51${phone1}&text=Hola, soy usuario VAO`\n    }\n\n    // if (!this.user) {\n    //   this.router.navigate(['/login'])\n    // } else {\n    //   if (this.user.user.id != receptorid) {\n\n    //     if (this.createChat(this.user.user.id, receptorid)) {\n    //       this.router.navigate(['/tabs/chat/' + receptorid])\n    //     }\n\n    //   }\n    // }\n\n    this.general.saveEvent('message', companyDataID)\n\n  }\n\n\n  createChat(useridOri, useridDes) {\n    this.api.createChat({\n      collection: 'chats',\n      token: this.user.token,\n      useridOri: useridOri,\n      useridDes: useridDes\n    })\n\n    return true;\n  }\n\n\n  //MODAL\n\n  async presentModal(content) {\n    const modal = await this.modalController.create({\n      component: ModalPage,\n      cssClass: 'modal-class',\n      componentProps: {\n        'title': 'Descripci√≥n',\n        'content': content,\n        'modal': this\n      }\n\n    });\n    return await modal.present();\n  }\n\n\n\n}\n"]}