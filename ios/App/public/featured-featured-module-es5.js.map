{"version":3,"sources":["webpack:///src/app/pages/tabs/featured/featured.page.html","webpack:///src/app/pages/tabs/featured/featured-routing.module.ts","webpack:///src/app/pages/tabs/featured/featured.module.ts","webpack:///src/app/pages/tabs/featured/featured.page.scss","webpack:///src/app/pages/tabs/featured/featured.page.ts"],"names":["routes","path","component","FeaturedPageRoutingModule","imports","forChild","exports","FeaturedPageModule","declarations","providers","Geolocation","Network","FeaturedPage","route","router","api","cookie","general","socialSharing","eventsSubject","urlBackEnd","getUrlImages","companiesData","isLoad","service","google","maps","DistanceMatrixService","search","response","currentPosition","window","history","back","navigate","then","location","reload","validateSession","getCategoriesAndSubcategories","getCompaniesDataFeatured","data","subscribe","result","c","categories","error","localStorage","getItem","user","JSON","parse","href","userid","id","token","status","length","getCurrentPosition","alert","image","encodeURI","x","Math","PI","lat1","lon1","lat2","lon2","R","dLat","rad","dLong","a","sin","cos","atan2","sqrt","d","toFixed","newCompaniesData","getPosition","element","lat","parseFloat","getKilometros","lng","push","sort","b","companyid","e","target","disabled","src","featuredid","name","url","text","share","document","title","_","saveEvent","next","receptorid","companyDataID","phone1","useridOri","useridDes","createChat","collection","selector","template"],"mappings":"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","file":"featured-featured-module-es5.js","sourcesContent":["export default \"<!-- <ion-header>\\r\\n  <ion-toolbar>\\r\\n    <ion-title>featured</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header> -->\\r\\n\\r\\n<ion-content>\\r\\n  <div class=\\\"content bg-white\\\">\\r\\n\\r\\n      <div *ngIf=\\\"response\\\" class=\\\"col-12 m-0 mt-5\\\">\\r\\n          <h5 class=\\\"text-center text-color2\\\">{{response}}</h5>\\r\\n      </div>\\r\\n      \\r\\n      <div *ngIf=\\\"!isLoad\\\" class=\\\"p-3 row m-0\\\">\\r\\n          <div *ngFor=\\\"let companyData of companiesData\\\"  class=\\\"item row m-0 col-12 p-0 mt-3\\\">\\r\\n              <div [routerLink]=\\\"['/tabs/home/profile/'+companyData.id]\\\" class=\\\"col-12 m-0 p-0\\\">\\r\\n                  <div *ngIf=\\\"companyData.image\\\" class=\\\"img-item\\\" [ngStyle]=\\\"{'background-image': 'url('+ companyData.image +')'}\\\"></div>            \\r\\n                  <!-- <div *ngIf=\\\"companyData.image.indexOf('data:image') === -1\\\" class=\\\"img-item\\\" [ngStyle]=\\\"{'background-image': 'url('+ urlBackEnd + getUriImage(companyData.image) +')'}\\\"></div>             -->\\r\\n                  <div *ngIf=\\\"!companyData.image\\\" class=\\\"img-item\\\"></div>            \\r\\n              </div>\\r\\n              <div class=\\\"p-3 col-12\\\">\\r\\n                  <div [routerLink]=\\\"['/profile/'+companyData.id]\\\" class=\\\"row m-0 justify-content-between\\\">\\r\\n                      <span class=\\\"f-11 font-700 col-12 p-0\\\">{{companyData.comercialname}}</span>\\r\\n                      <span class=\\\"f-11 font-700 text-color6\\\">{{companyData.distance == 1000000 ? '-': companyData.distance }} Km</span>\\r\\n                  </div>\\r\\n                  <div [routerLink]=\\\"['/tabs/home/profile/'+companyData.id]\\\" class=\\\"row m-0 justify-content-between mt-2\\\">\\r\\n                      <p class=\\\"f-10\\\" *ngIf=\\\"companyData.address1 && companyData.address1 != '' && companyData.address1 != ''\\\">{{companyData.address1.substring(0,80) || ''}}<ng-container *ngIf=\\\"companyData.address1.length > 79\\\">...</ng-container></p>         \\r\\n                  </div>   \\r\\n                  <div class=\\\"row m-0 justify-content-between align-items-start\\\">\\r\\n                      <div class=\\\"row m-0\\\">\\r\\n                          <a href=\\\"tel:{{companyData.phone1}}\\\"\\r\\n                              class=\\\"btn1 flex-1 pt-2 pb-2 mr-2 font-700 text-center link-unstyled\\\">LLAMADA</a>\\r\\n                          <button (click)=\\\"message(companyData.userid, companyData.id, companyData.phone1)\\\" class=\\\"btn2 flex-1 pt-2 pb-2 font-700\\\">WHATSAPP</button>\\r\\n                      </div>\\r\\n                      <div>\\r\\n                          <!-- <img (click)=\\\"addFeaturedCompanies(companyData.id, $event)\\\" width=\\\"30\\\" src=\\\"/assets/img/partials/star.svg\\\" alt=\\\"\\\"> -->\\r\\n                          <img (click)=\\\"share(companyData.url, companyData.comercialname)\\\" width=\\\"22\\\" class=\\\"ml-2\\\" src=\\\"/assets/img/partials/share.svg\\\" alt=\\\"\\\">\\r\\n                          <img (click)=\\\"deleteFeaturedCompanies(companyData.featuredid)\\\" width=\\\"20\\\" class=\\\"ml-2\\\" src=\\\"/assets/img/partials/delete.svg\\\" alt=\\\"\\\">\\r\\n                      </div>\\r\\n                    \\r\\n                      <!-- <button (click)=\\\"addFeaturedCompanies(companyData.id, $event)\\\" class=\\\"rounded-pill font-700 f-10 p-1 pl-2 pr-2 border-0 bg-color1\\\">Agregar a favoritos</button>        -->\\r\\n                  </div>            \\r\\n              </div>\\r\\n          </div>\\r\\n\\r\\n      </div>\\r\\n\\r\\n      <div #map id=\\\"map\\\"></div>\\r\\n\\r\\n  </div>\\r\\n\\r\\n  <div *ngIf=\\\"isLoad\\\" class=\\\"load\\\">\\r\\n      <img src=\\\"/assets/img/partials/load.svg\\\">\\r\\n  </div>\\r\\n</ion-content>\\r\\n\";","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { FeaturedPage } from './featured.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: FeaturedPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class FeaturedPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { FeaturedPageRoutingModule } from './featured-routing.module';\r\n\r\nimport { FeaturedPage } from './featured.page';\r\nimport { SocialSharing } from '@ionic-native/social-sharing/ngx';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    FeaturedPageRoutingModule\r\n  ],\r\n  declarations: [FeaturedPage],\r\n  providers: [  \r\n    SocialSharing \r\n  ],\r\n})\r\nexport class FeaturedPageModule {}\r\n","export default \"/* FONTS */\\n.linea {\\n  border-bottom: solid 3px #e6e6e6;\\n}\\n.content {\\n  min-height: 100vh;\\n}\\n.content .menu p {\\n  min-width: 20px;\\n  min-height: 2px;\\n  background-color: white;\\n}\\n.content .search {\\n  flex: 1;\\n  position: relative;\\n}\\n.content .search ::-moz-placeholder {\\n  color: #808080;\\n  font-size: 12pt;\\n}\\n.content .search ::-ms-input-placeholder {\\n  color: #808080;\\n  font-size: 12pt;\\n}\\n.content .search ::placeholder {\\n  color: #808080;\\n  font-size: 12pt;\\n}\\n.content .search img {\\n  position: absolute;\\n  top: 27%;\\n  left: 20px;\\n  max-width: 26px;\\n}\\n.content .search input {\\n  font-size: 12pt;\\n  width: 100%;\\n  border: 2.5px solid #ffe266;\\n  padding: 5px;\\n  background-color: rgba(0, 0, 0, 0);\\n  color: #333333;\\n  border-radius: 50px;\\n  padding-left: 58px;\\n  min-height: 60px;\\n}\\n.content .search :focus {\\n  outline: 0;\\n}\\n.content .search button {\\n  border-radius: 50px !important;\\n  position: absolute;\\n  right: 0px;\\n  top: 3px;\\n}\\n.item {\\n  box-shadow: 1px 3px 8px 5px #c2c2c2;\\n  border-radius: 10px;\\n}\\n.item .img-item {\\n  background-repeat: no-repeat;\\n  background-size: cover;\\n  background-position: center;\\n  background-color: #c2c2c2;\\n  border-radius: 10px 10px 0 0;\\n  max-width: 100%;\\n  min-width: 100%;\\n  max-height: 90.8vw;\\n  min-height: 90.8vw;\\n}\\n.load {\\n  position: fixed;\\n  top: 0;\\n  left: 0;\\n  min-width: 100vw;\\n  min-height: 100vh;\\n  background-color: rgba(255, 255, 255, 0.9);\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n}\\n.load img {\\n  opacity: 0.9;\\n}\\n:focus {\\n  outline: 0;\\n}\\nbutton:disabled {\\n  background-color: #e6e6e6 !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvdGFicy9mZWF0dXJlZC9DOlxcd2FtcDY0XFx3d3dcXHZhb3BlcnUvc3JjXFxzdHlsZXNcXHZhcmlhYmxlcy5zY3NzIiwic3JjL2FwcC9wYWdlcy90YWJzL2ZlYXR1cmVkL0M6XFx3YW1wNjRcXHd3d1xcdmFvcGVydS9zcmNcXGFwcFxccGFnZXNcXHRhYnNcXGZlYXR1cmVkXFxmZWF0dXJlZC5wYWdlLnNjc3MiLCJzcmMvYXBwL3BhZ2VzL3RhYnMvZmVhdHVyZWQvZmVhdHVyZWQucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLFVBQUE7QUNFQTtFQUNJLGdDQUFBO0FDQUo7QURHQTtFQUNJLGlCQUFBO0FDQUo7QURFUTtFQUNJLGVBQUE7RUFDQSxlQUFBO0VBQ0EsdUJBQUE7QUNBWjtBREdJO0VBQ0ksT0FBQTtFQUNBLGtCQUFBO0FDRFI7QURFUTtFQUNJLGNETkg7RUNPRyxlQUFBO0FDQVo7QURGUTtFQUNJLGNETkg7RUNPRyxlQUFBO0FDQVo7QURGUTtFQUNJLGNETkg7RUNPRyxlQUFBO0FDQVo7QURFUTtFQUNJLGtCQUFBO0VBQ0EsUUFBQTtFQUNBLFVBQUE7RUFDQSxlQUFBO0FDQVo7QURFUTtFQUNJLGVBQUE7RUFDQSxXQUFBO0VBQ0EsMkJBQUE7RUFDQSxZQUFBO0VBQ0Esa0NBQUE7RUFDQSxjRHZCSDtFQ3dCRyxtQkFBQTtFQUNBLGtCQUFBO0VBQ0EsZ0JBQUE7QUNBWjtBREdRO0VBQ0ksVUFBQTtBQ0RaO0FESVE7RUFDSSw4QkFBQTtFQUNBLGtCQUFBO0VBQ0EsVUFBQTtFQUNBLFFBQUE7QUNGWjtBRFdBO0VBR0ksbUNBQUE7RUFDQSxtQkFBQTtBQ1JKO0FEU0k7RUFDSSw0QkFBQTtFQUNBLHNCQUFBO0VBQ0EsMkJBQUE7RUFDQSx5QkFBQTtFQUNBLDRCQUFBO0VBQ0EsZUFBQTtFQUNBLGVBQUE7RUFDQSxrQkFBQTtFQUNBLGtCQUFBO0FDUFI7QURjQTtFQUNJLGVBQUE7RUFDQSxNQUFBO0VBQ0EsT0FBQTtFQUNBLGdCQUFBO0VBQ0EsaUJBQUE7RUFDQSwwQ0FBQTtFQUNBLGFBQUE7RUFDQSx1QkFBQTtFQUNBLG1CQUFBO0FDWEo7QURZSTtFQUNJLFlBQUE7QUNWUjtBRGNBO0VBQ0ksVUFBQTtBQ1hKO0FEY0E7RUFDSSxvQ0FBQTtBQ1hKIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvdGFicy9mZWF0dXJlZC9mZWF0dXJlZC5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBGT05UUyAqL1xyXG5cclxuJGZvbnRNOiBNeXJpYWRQcm87XHJcbiRmb250VDogVHJlYnVjaGV0TVM7XHJcblxyXG5cclxuLy8gQ09MT1JTIFxyXG5cclxuXHJcbiRjb2xvcjE6ICNmZmUyNjY7XHJcbiRjb2xvcjI6ICMxM2JmOWU7XHJcbiRjb2xvcjM6ICMzMzMzMzM7XHJcbiRjb2xvcjQ6ICM0ZDRkNGQ7XHJcbiRjb2xvcjU6ICM4MDgwODA7XHJcbiRjb2xvcjY6ICNBOUFCQUU7XHJcbiRjb2xvcjc6ICNlNmU2ZTY7XHJcbiRjb2xvcjg6ICNlYzdjOGI7XHJcbiRjb2xvcjk6ICMwMGExOTg7XHJcbiRjb2xvcjEwOiAjMzE0ODhhO1xyXG4iLCJAaW1wb3J0ICcuLy4uLy4uLy4uLy4uL3N0eWxlcy92YXJpYWJsZXMnO1xyXG5cclxuLmxpbmVhe1xyXG4gICAgYm9yZGVyLWJvdHRvbTogc29saWQgM3B4ICRjb2xvcjc7XHJcbn1cclxuXHJcbi5jb250ZW50e1xyXG4gICAgbWluLWhlaWdodDogMTAwdmg7XHJcbiAgICAubWVudXtcclxuICAgICAgICBwe1xyXG4gICAgICAgICAgICBtaW4td2lkdGg6IDIwcHg7XHJcbiAgICAgICAgICAgIG1pbi1oZWlnaHQ6IDJweDtcclxuICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLnNlYXJjaHtcclxuICAgICAgICBmbGV4OiAxO1xyXG4gICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICAgICAgICA6OnBsYWNlaG9sZGVye1xyXG4gICAgICAgICAgICBjb2xvcjogJGNvbG9yNTtcclxuICAgICAgICAgICAgZm9udC1zaXplOiAxMnB0O1xyXG4gICAgICAgIH1cclxuICAgICAgICBpbWd7XHJcbiAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgICAgICAgdG9wOiAyNyU7XHJcbiAgICAgICAgICAgIGxlZnQ6IDIwcHg7XHJcbiAgICAgICAgICAgIG1heC13aWR0aDogMjZweDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaW5wdXR7XHJcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTJwdDtcclxuICAgICAgICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICAgICAgICAgIGJvcmRlcjogMi41cHggc29saWQgICRjb2xvcjE7XHJcbiAgICAgICAgICAgIHBhZGRpbmc6IDVweDtcclxuICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgkY29sb3I6ICMwMDAwMDAsICRhbHBoYTogMCk7XHJcbiAgICAgICAgICAgIGNvbG9yOiAkY29sb3IzO1xyXG4gICAgICAgICAgICBib3JkZXItcmFkaXVzOiA1MHB4O1xyXG4gICAgICAgICAgICBwYWRkaW5nLWxlZnQ6IDU4cHg7XHJcbiAgICAgICAgICAgIG1pbi1oZWlnaHQ6IDYwcHg7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICA6Zm9jdXN7XHJcbiAgICAgICAgICAgIG91dGxpbmU6IDA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBidXR0b257XHJcbiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDUwcHggIWltcG9ydGFudDtcclxuICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICAgICAgICByaWdodDogMHB4O1xyXG4gICAgICAgICAgICB0b3A6IDNweDtcclxuICAgICAgICB9XHJcblxyXG5cclxuXHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG4uaXRlbXtcclxuICAgIC13ZWJraXQtYm94LXNoYWRvdzogMXB4IDNweCA4cHggNXB4IHJnYmEoMTk0LDE5NCwxOTQsMSk7XHJcbiAgICAtbW96LWJveC1zaGFkb3c6IDFweCAzcHggOHB4IDVweCByZ2JhKDE5NCwxOTQsMTk0LDEpO1xyXG4gICAgYm94LXNoYWRvdzogMXB4IDNweCA4cHggNXB4IHJnYmEoMTk0LDE5NCwxOTQsMSk7XHJcbiAgICBib3JkZXItcmFkaXVzOiAxMHB4O1xyXG4gICAgLmltZy1pdGVte1xyXG4gICAgICAgIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7XHJcbiAgICAgICAgYmFja2dyb3VuZC1zaXplOiBjb3ZlcjtcclxuICAgICAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiBjZW50ZXI7XHJcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDE5NCwgMTk0LCAxOTQpO1xyXG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDEwcHggMTBweCAwIDA7XHJcbiAgICAgICAgbWF4LXdpZHRoOiAxMDAlOyAgICAgICAgXHJcbiAgICAgICAgbWluLXdpZHRoOiAxMDAlO1xyXG4gICAgICAgIG1heC1oZWlnaHQ6IDkwLjh2dztcclxuICAgICAgICBtaW4taGVpZ2h0OiA5MC44dnc7XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG4vL0xPQURcclxuXHJcbi5sb2Fke1xyXG4gICAgcG9zaXRpb246IGZpeGVkO1xyXG4gICAgdG9wOiAwO1xyXG4gICAgbGVmdDogMDtcclxuICAgIG1pbi13aWR0aDogMTAwdnc7XHJcbiAgICBtaW4taGVpZ2h0OiAxMDB2aDtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoJGNvbG9yOiAjZmZmZmZmLCAkYWxwaGE6IC45KTtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICBpbWd7XHJcbiAgICAgICAgb3BhY2l0eTogLjk7XHJcbiAgICB9XHJcbn1cclxuXHJcbjpmb2N1c3tcclxuICAgIG91dGxpbmU6IDA7XHJcbn1cclxuXHJcbmJ1dHRvbjpkaXNhYmxlZHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICRjb2xvcjcgIWltcG9ydGFudDtcclxufSIsIi8qIEZPTlRTICovXG4ubGluZWEge1xuICBib3JkZXItYm90dG9tOiBzb2xpZCAzcHggI2U2ZTZlNjtcbn1cblxuLmNvbnRlbnQge1xuICBtaW4taGVpZ2h0OiAxMDB2aDtcbn1cbi5jb250ZW50IC5tZW51IHAge1xuICBtaW4td2lkdGg6IDIwcHg7XG4gIG1pbi1oZWlnaHQ6IDJweDtcbiAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XG59XG4uY29udGVudCAuc2VhcmNoIHtcbiAgZmxleDogMTtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xufVxuLmNvbnRlbnQgLnNlYXJjaCA6OnBsYWNlaG9sZGVyIHtcbiAgY29sb3I6ICM4MDgwODA7XG4gIGZvbnQtc2l6ZTogMTJwdDtcbn1cbi5jb250ZW50IC5zZWFyY2ggaW1nIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB0b3A6IDI3JTtcbiAgbGVmdDogMjBweDtcbiAgbWF4LXdpZHRoOiAyNnB4O1xufVxuLmNvbnRlbnQgLnNlYXJjaCBpbnB1dCB7XG4gIGZvbnQtc2l6ZTogMTJwdDtcbiAgd2lkdGg6IDEwMCU7XG4gIGJvcmRlcjogMi41cHggc29saWQgI2ZmZTI2NjtcbiAgcGFkZGluZzogNXB4O1xuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDApO1xuICBjb2xvcjogIzMzMzMzMztcbiAgYm9yZGVyLXJhZGl1czogNTBweDtcbiAgcGFkZGluZy1sZWZ0OiA1OHB4O1xuICBtaW4taGVpZ2h0OiA2MHB4O1xufVxuLmNvbnRlbnQgLnNlYXJjaCA6Zm9jdXMge1xuICBvdXRsaW5lOiAwO1xufVxuLmNvbnRlbnQgLnNlYXJjaCBidXR0b24ge1xuICBib3JkZXItcmFkaXVzOiA1MHB4ICFpbXBvcnRhbnQ7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgcmlnaHQ6IDBweDtcbiAgdG9wOiAzcHg7XG59XG5cbi5pdGVtIHtcbiAgLXdlYmtpdC1ib3gtc2hhZG93OiAxcHggM3B4IDhweCA1cHggI2MyYzJjMjtcbiAgLW1vei1ib3gtc2hhZG93OiAxcHggM3B4IDhweCA1cHggI2MyYzJjMjtcbiAgYm94LXNoYWRvdzogMXB4IDNweCA4cHggNXB4ICNjMmMyYzI7XG4gIGJvcmRlci1yYWRpdXM6IDEwcHg7XG59XG4uaXRlbSAuaW1nLWl0ZW0ge1xuICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0O1xuICBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyO1xuICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiBjZW50ZXI7XG4gIGJhY2tncm91bmQtY29sb3I6ICNjMmMyYzI7XG4gIGJvcmRlci1yYWRpdXM6IDEwcHggMTBweCAwIDA7XG4gIG1heC13aWR0aDogMTAwJTtcbiAgbWluLXdpZHRoOiAxMDAlO1xuICBtYXgtaGVpZ2h0OiA5MC44dnc7XG4gIG1pbi1oZWlnaHQ6IDkwLjh2dztcbn1cblxuLmxvYWQge1xuICBwb3NpdGlvbjogZml4ZWQ7XG4gIHRvcDogMDtcbiAgbGVmdDogMDtcbiAgbWluLXdpZHRoOiAxMDB2dztcbiAgbWluLWhlaWdodDogMTAwdmg7XG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC45KTtcbiAgZGlzcGxheTogZmxleDtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG59XG4ubG9hZCBpbWcge1xuICBvcGFjaXR5OiAwLjk7XG59XG5cbjpmb2N1cyB7XG4gIG91dGxpbmU6IDA7XG59XG5cbmJ1dHRvbjpkaXNhYmxlZCB7XG4gIGJhY2tncm91bmQtY29sb3I6ICNlNmU2ZTYgIWltcG9ydGFudDtcbn0iXX0= */\";","import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { ApiService } from 'src/app/services/api.service';\r\nimport { CookieService } from 'ngx-cookie-service';\r\nimport { GeneralService } from 'src/app/services/general.service';\r\nimport { Subject } from 'rxjs';\r\nimport { Plugins } from '@capacitor/core';\r\nimport { SocialSharing } from '@ionic-native/social-sharing/ngx';\r\n// import { } from '@types/googlemaps';\r\n\r\n\r\nconst { Geolocation, Network } = Plugins;\r\n\r\ndeclare var google;\r\n\r\n@Component({\r\n  selector: 'app-featured',\r\n  templateUrl: './featured.page.html',\r\n  styleUrls: ['./featured.page.scss'],\r\n})\r\n\r\nexport class FeaturedPage implements OnInit {\r\n\r\n  eventsSubject: Subject<void> = new Subject<void>();\r\n\r\n  user: any;\r\n  urlBackEnd: any = this.general.getUrlImages('profile');\r\n  companiesData: Array<any> = []\r\n  isLoad: Boolean = true\r\n  service = new google.maps.DistanceMatrixService;\r\n  search: any = ''\r\n  response: any = false\r\n  categories: any;\r\n\r\n  //POSITION\r\n\r\n  currentPosition: any = {}\r\n\r\n  constructor(public route: ActivatedRoute, private router: Router, private api: ApiService, private cookie: CookieService, private general: GeneralService, private socialSharing: SocialSharing,) {\r\n   \r\n  }\r\n\r\n  back() {\r\n    window.history.back()\r\n  }\r\n\r\n  searchEvent() {\r\n    this.router.navigate(['/results/' + this.search]).then(() => {\r\n      window.location.reload();\r\n    });\r\n\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.validateSession()   \r\n    this.getCategoriesAndSubcategories()\r\n  }\r\n\r\n  ionViewWillEnter(){\r\n    this.getCompaniesDataFeatured()\r\n  }\r\n\r\n  getCategoriesAndSubcategories() {\r\n\r\n    let data = {\r\n      service: 'get-categories-and-subcategories'\r\n    }\r\n    this.api.api(data).subscribe(result => {\r\n      this.api.c('getCategoriesAndSubcategories result', result)\r\n      this.categories = result\r\n      this.isLoad = false\r\n    },\r\n      error => {\r\n        this.api.c('Error getCategoriesAndSubcategories', error)\r\n      });\r\n\r\n  }\r\n\r\n  validateSession() {\r\n    if (localStorage.getItem('ud')) {\r\n      this.user = JSON.parse(localStorage.getItem('ud'))     \r\n    } else {\r\n      window.location.href='/login'    \r\n    }\r\n  }\r\n\r\n  getCompaniesDataFeatured() {\r\n    if (this.user) {\r\n      this.isLoad = true\r\n      this.companiesData = []\r\n      let data = {\r\n        userid: this.user.user.id,\r\n        token: this.user.token,\r\n        service: 'get-companies-data-featured'\r\n      }\r\n      this.api.api(data).subscribe(async (result: any) => {\r\n        this.api.c('getCompaniesDataFeatured', result)\r\n        if (result.status) {\r\n\r\n          if (result.data.length > 0) {\r\n            this.response = ''\r\n            this.isLoad = false\r\n            this.companiesData = await this.getCurrentPosition(result.data)\r\n            // this.getCurrentPosition(result.data)\r\n          } else {\r\n            this.response = 'No tiene negocios favoritos'\r\n            this.isLoad = false\r\n          }\r\n\r\n        } else {\r\n          this.api.c('getCompaniesDataFeatured false', result)\r\n        }\r\n      },\r\n        error => {\r\n          if(error.status == 401){\r\n            alert('Su sesión ha vencido');\r\n            this.router.navigate(['/login'])          \r\n          }\r\n          this.api.c('Error getCompaniesDataFeatured', error)\r\n\r\n        });\r\n    }\r\n  }\r\n\r\n  getUriImage(image) {\r\n    return encodeURI(image)\r\n  }\r\n\r\n\r\n  rad(x) {\r\n    return x * Math.PI / 180;\r\n  }\r\n\r\n  getKilometros(lat1, lon1, lat2, lon2) {\r\n    var R = 6378.137; //Radio de la tierra en km\r\n    var dLat = this.rad(lat2 - lat1);\r\n    var dLong = this.rad(lon2 - lon1);\r\n    var a = Math.sin(dLat / 2) * Math.sin(dLat / 2) + Math.cos(this.rad(lat1)) * Math.cos(this.rad(lat2)) * Math.sin(dLong / 2) * Math.sin(dLong / 2);\r\n    var c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\r\n    var d = R * c;\r\n    return d.toFixed(1); //Retorna un decimales\r\n  }\r\n\r\n\r\n  async getCurrentPosition(companiesData) {\r\n\r\n    let newCompaniesData: any = []\r\n    const currentPosition = await this.general.getPosition()\r\n\r\n    if (currentPosition) {\r\n      for (const element of companiesData) {\r\n        this.api.c('Element', element)\r\n        if (element.lat) {\r\n          element['distance'] = parseFloat(this.getKilometros(element.lat, element.lng, currentPosition.lat, currentPosition.lng))\r\n        } else {\r\n          element['distance'] = 1000000\r\n        }\r\n        newCompaniesData.push(element)\r\n      }\r\n    }\r\n\r\n    newCompaniesData = newCompaniesData.sort(function (a, b) {\r\n      if (a['distance'] > b['distance']) {\r\n        return 1;\r\n      }\r\n      if (a['distance'] < b['distance']) {\r\n        return -1;\r\n      }\r\n      return 0;\r\n    })\r\n    return newCompaniesData\r\n\r\n  }\r\n\r\n\r\n  updateCoordinates(lat, lng, companyid) {\r\n\r\n    let data = {\r\n      token: this.user.token,\r\n      companyid: companyid,\r\n      service: 'update-coordinates',\r\n      lat: lat,\r\n      lng: lng,\r\n    }\r\n    this.api.api(data).subscribe((result: any) => {\r\n      this.isLoad = false\r\n      this.api.c('addFeaturedCompanies', result)\r\n    },\r\n      error => {\r\n        this.api.c('Error addFeaturedCompanies', error)\r\n\r\n      });\r\n\r\n  }\r\n\r\n\r\n  addFeaturedCompanies(companyid, e: any) {\r\n\r\n    let data = {\r\n      userid: this.user.user.id,\r\n      token: this.user.token,\r\n      companyid: companyid,\r\n      service: 'add-featured-companies'\r\n    }\r\n    this.api.api(data).subscribe((result: any) => {\r\n      this.api.c('addFeaturedCompanies', result)\r\n      if (result.status) {\r\n        this.api.c('addFeaturedCompanies true', e.target.disabled)\r\n        e.target.src = '/assets/img/partials/star-g.svg';\r\n      } else {\r\n        this.api.c('addFeaturedCompanies false', result)\r\n      }\r\n    },\r\n      error => {\r\n        \r\n        this.api.c('Error addFeaturedCompanies', error)\r\n\r\n      });\r\n\r\n  }\r\n\r\n  deleteFeaturedCompanies(featuredid) {\r\n\r\n    this.isLoad = true\r\n\r\n    let data = {\r\n      token: this.user.token,\r\n      featuredid: featuredid,\r\n      service: 'delete-featured-companies'\r\n    }\r\n    this.api.api(data).subscribe((result: any) => {\r\n      this.api.c('deleteFeaturedCompanies', result)\r\n      this.isLoad = false\r\n      if (result.status) {\r\n        this.getCompaniesDataFeatured()\r\n      } else {\r\n        this.api.c('deleteFeaturedCompanies false', result)\r\n      }\r\n    },\r\n      error => {\r\n        \r\n        this.api.c('Error deleteFeaturedCompanies', error)\r\n        \r\n\r\n      });\r\n\r\n  }\r\n\r\n\r\n  share(companyid, name) {    \r\n\r\n    const url = 'https://vaoperu.com/web/' + companyid\r\n    const text = name\r\n    this.socialSharing.share(text, document.title, null, url).then(_=>{\r\n      this.general.saveEvent('share', companyid)\r\n    })\r\n\r\n  }\r\n\r\n  toogleMenu() {\r\n    this.api.c('toogleMenuFather', 'ok')\r\n    this.eventsSubject.next();\r\n  }\r\n\r\n  message(receptorid, companyDataID, phone1) {\r\n\r\n    if (phone1) {\r\n      window.location.href = `https://api.whatsapp.com/send?phone=51${phone1}&text=Hola, soy usuario VAO`\r\n    }\r\n\r\n    // if (!this.user) {\r\n    //   this.router.navigate(['/login'])\r\n    // } else {\r\n    //   if (this.user.user.id != receptorid) {\r\n    //     if (this.createChat(this.user.user.id, receptorid)) {\r\n    //       this.router.navigate(['/tabs/chat/' + receptorid])\r\n    //     }\r\n\r\n    //   }\r\n    // }\r\n\r\n    this.general.saveEvent('message', companyDataID)\r\n\r\n  }\r\n\r\n\r\n  createChat(useridOri, useridDes) {\r\n    this.api.createChat({\r\n      collection: 'chats',\r\n      token: this.user.token,\r\n      useridOri: useridOri,\r\n      useridDes: useridDes\r\n    })\r\n\r\n    return true;\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n\r\n}\r\n"]}