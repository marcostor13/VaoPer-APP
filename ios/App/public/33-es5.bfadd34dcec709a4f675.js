function _classCallCheck(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,i){for(var e=0;e<i.length;e++){var c=i[e];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(t,c.key,c)}}function _createClass(t,i,e){return i&&_defineProperties(t.prototype,i),e&&_defineProperties(t,e),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{"3Y8D":function(t,i,e){"use strict";e.r(i),e.d(i,"ProductsProviderPageModule",(function(){return J}));var c=e("ofXK"),n=e("3Pt+"),r=e("TEn/"),o=e("tyNb"),a=e("mrSG"),s=e("JAFY"),u=e("fXoL"),d=e("H+bZ"),l=e("b6Qw"),b=e("FQVY");function p(t,i){if(1&t){var e=u.Xb();u.Wb(0,"img",23),u.ec("click",(function(){u.zc(e);var t=u.ic(2).$implicit;return u.ic().saveFeaturedProduct(t.id,0)})),u.Vb()}}function f(t,i){if(1&t){var e=u.Xb();u.Wb(0,"img",24),u.ec("click",(function(){u.zc(e);var t=u.ic(2).$implicit;return u.ic().saveFeaturedProduct(t.id,1)})),u.Vb()}}var g=function(t){return{"background-image":t}};function m(t,i){if(1&t&&(u.Wb(0,"div",19),u.Wb(1,"div",20),u.Hc(2,p,1,0,"img",21),u.Hc(3,f,1,0,"img",22),u.Vb(),u.Vb()),2&t){var e=u.ic().$implicit,c=u.ic();u.oc("ngStyle",u.sc(3,g,"url("+c.getFirstImage(e.images)+")")),u.Db(2),u.oc("ngIf",1==e.featured),u.Db(1),u.oc("ngIf",0==e.featured)}}function v(t,i){if(1&t){var e=u.Xb();u.Wb(0,"img",23),u.ec("click",(function(){u.zc(e);var t=u.ic(3).$implicit;return u.ic().saveFeaturedProduct(t.id,0)})),u.Vb()}}function h(t,i){if(1&t){var e=u.Xb();u.Wb(0,"img",24),u.ec("click",(function(){u.zc(e);var t=u.ic(3).$implicit;return u.ic().saveFeaturedProduct(t.id,1)})),u.Vb()}}function k(t,i){if(1&t&&(u.Wb(0,"div",19),u.Wb(1,"div",20),u.Hc(2,v,1,0,"img",21),u.Hc(3,h,1,0,"img",22),u.Vb(),u.Vb()),2&t){var e=u.ic(2).$implicit;u.oc("ngStyle",u.sc(3,g,"url("+e.image+")")),u.Db(2),u.oc("ngIf",1==e.featured),u.Db(1),u.oc("ngIf",0==e.featured)}}function w(t,i){if(1&t){var e=u.Xb();u.Wb(0,"img",23),u.ec("click",(function(){u.zc(e);var t=u.ic(3).$implicit;return u.ic().saveFeaturedProduct(t.id,0)})),u.Vb()}}function P(t,i){if(1&t){var e=u.Xb();u.Wb(0,"img",24),u.ec("click",(function(){u.zc(e);var t=u.ic(3).$implicit;return u.ic().saveFeaturedProduct(t.id,1)})),u.Vb()}}function y(t,i){if(1&t&&(u.Wb(0,"div",19),u.Wb(1,"div",20),u.Hc(2,w,1,0,"img",21),u.Hc(3,P,1,0,"img",22),u.Vb(),u.Vb()),2&t){var e=u.ic(2).$implicit,c=u.ic();u.oc("ngStyle",u.sc(3,g,"url("+c.urlBackEnd+c.getUriImage(e.image)+")")),u.Db(2),u.oc("ngIf",1==e.featured),u.Db(1),u.oc("ngIf",0==e.featured)}}function V(t,i){if(1&t&&(u.Ub(0),u.Hc(1,k,4,5,"div",9),u.Hc(2,y,4,5,"div",9),u.Tb()),2&t){var e=u.ic().$implicit;u.Db(1),u.oc("ngIf",e.image.indexOf("data:image")>-1),u.Db(1),u.oc("ngIf",-1===e.image.indexOf("data:image"))}}function W(t,i){if(1&t&&u.Sb(0,"div",25),2&t){var e=u.ic().$implicit;u.oc("innerHTML",e.description.substring(0,60),u.Ac)}}function I(t,i){if(1&t){var e=u.Xb();u.Wb(0,"div"),u.Wb(1,"span",26),u.ec("click",(function(){u.zc(e);var t=u.ic().$implicit;return u.ic().presentModal(t.description)})),u.Jc(2,"...ver m\xe1s"),u.Vb(),u.Vb()}}function x(t,i){if(1&t&&(u.Wb(0,"p",27),u.Jc(1),u.jc(2,"number"),u.Vb()),2&t){var e=u.ic().$implicit;u.Db(1),u.Lc("S/ ",u.lc(2,1,e.price,"1.2-2"),"")}}var C=function(t){return[t]};function D(t,i){if(1&t){var e=u.Xb();u.Wb(0,"div",6),u.Wb(1,"div",7),u.Wb(2,"div",8),u.Hc(3,m,4,5,"div",9),u.Hc(4,V,3,2,"ng-container",10),u.Vb(),u.Wb(5,"div",11),u.Wb(6,"span",12),u.Jc(7),u.Vb(),u.Hc(8,W,1,1,"div",13),u.Hc(9,I,3,0,"div",10),u.Wb(10,"div",14),u.Hc(11,x,3,4,"p",15),u.Wb(12,"div",16),u.Wb(13,"button",17),u.Jc(14,"Editar"),u.Vb(),u.Wb(15,"button",18),u.ec("click",(function(){u.zc(e);var t=i.$implicit;return u.ic().deleteProduct(t.id)})),u.Jc(16,"Eliminar"),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Vb()}if(2&t){var c=i.$implicit;u.Db(3),u.oc("ngIf",c.images&&c.images.length>0),u.Db(1),u.oc("ngIf",!c.images||0===c.images.length),u.Db(3),u.Kc(c.name),u.Db(1),u.oc("ngIf",c.description&&""!=c.description&&"null"!=c.description),u.Db(1),u.oc("ngIf",c.description&&c.description.length>59),u.Db(2),u.oc("ngIf",c.price&&"null"!=c.price),u.Db(2),u.oc("routerLink",u.sc(7,C,"/tabs-provider/portfolio/products-provider/edit-products/"+c.id))}}var M,O,H,_=function(){return["/tabs-provider/portfolio"]},F=function(){return["/tabs-provider/portfolio/products-provider/edit-products/0"]},S=[{path:"",component:(M=function(){function t(i,e,c,n,r,o){_classCallCheck(this,t),this.route=i,this.router=e,this.api=c,this.cookie=n,this.general=r,this.modalController=o,this.isVisible=!1,this.contentModal=null,this.response="",this.products=[],this.urlBackEnd=this.general.getUrlImages("products"),this.isVisibleModal=!1,this.currentDescription=""}return _createClass(t,[{key:"ngOnInit",value:function(){this.validateSession()}},{key:"ionViewWillEnter",value:function(){this.getProducts()}},{key:"validateSession",value:function(){localStorage.getItem("ud")&&(this.user=JSON.parse(localStorage.getItem("ud")))}},{key:"getProducts",value:function(){var t=this,i={service:"get-products",userid:this.user.user.id,token:this.user.token};this.api.c("getProducts pre",i),this.api.api(i).subscribe((function(i){t.api.c("getProducts",i),i.status?t.products=i.data:t.api.c("getProducts false",i)}),(function(i){t.api.c("getProducts error",i)}))}},{key:"saveFeaturedProduct",value:function(t,i){var e=this,c={service:"save-featured-product",featured:i,productid:t,token:this.user.token};this.api.c("saveFeaturedProduct pre",c),this.api.api(c).subscribe((function(t){e.api.c("saveFeaturedProduct",t),e.getProducts()}),(function(t){e.api.c("saveFeaturedProduct error",t)}))}},{key:"deleteProduct",value:function(t){var i=this,e={service:"delete-product",productid:t,token:this.user.token};this.api.c("deleteProduct pre",e),this.api.api(e).subscribe((function(t){i.api.c("deleteProduct",t),i.getProducts()}),(function(t){i.api.c("deleteProduct error",t)}))}},{key:"isJson",value:function(t){try{JSON.parse(t)}catch(i){return!1}return!0}},{key:"getUriImage",value:function(t){return encodeURI(t)}},{key:"getFirstImage",value:function(t){return t[0].image}},{key:"redirect",value:function(t){this.router.navigate([t])}},{key:"showModal",value:function(){this.isVisibleModal=!0}},{key:"handleOk",value:function(){this.isVisibleModal=!1}},{key:"handleCancel",value:function(){this.isVisibleModal=!1}},{key:"vermas",value:function(t){this.currentDescription=t,this.showModal()}},{key:"presentModal",value:function(t){return Object(a.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark((function i(){var e;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,this.modalController.create({component:s.a,cssClass:"modal-class",componentProps:{title:"Descripci\xf3n",content:t,modal:this}});case 2:return e=i.sent,i.next=5,e.present();case 5:return i.abrupt("return",i.sent);case 6:case"end":return i.stop()}}),i,this)})))}}]),t}(),M.\u0275fac=function(t){return new(t||M)(u.Rb(o.a),u.Rb(o.j),u.Rb(d.a),u.Rb(l.a),u.Rb(b.a),u.Rb(r.q))},M.\u0275cmp=u.Lb({type:M,selectors:[["app-products-provider"]],decls:9,vars:5,consts:[[1,"p-3"],[1,"btn1","pt-2","pb-2",3,"routerLink"],[1,"row","m-0","p-3","justify-content-center","align-items-center"],["src","/assets/img/partials/add.svg",1,"add",3,"routerLink"],[1,"p-3","row","m-0","col-12"],["class","row m-0 col-12 col-lg-3 p-2 mt-2",4,"ngFor","ngForOf"],[1,"row","m-0","col-12","col-lg-3","p-2","mt-2"],[1,"item","row","m-0","col-12","p-0"],[1,"col-12","m-0","p-0","row","justify-content-center"],["class","img-item",3,"ngStyle",4,"ngIf"],[4,"ngIf"],[1,"ml-3","mt-2","col-12","m-0","p-0"],[1,"f-11","font-700"],["class","f-10 pr-3",3,"innerHTML",4,"ngIf"],[1,"row","m-0","col-11","justify-content-between","p-0"],["class","f-12 text-color2 font-700",4,"ngIf"],[1,"row","m-0","mt-2","justify-content-between","col-12","p-0"],[1,"btn3","mb-3","f-11","font-700","pt-2","pb-2",3,"routerLink"],[1,"btn4","mb-3","f-11","font-700","pt-2","pb-2",3,"click"],[1,"img-item",3,"ngStyle"],[1,"row","m-0","col-12","justify-content-end"],["width","30","class","mt-3","src","/assets/img/partials/star.svg","alt","",3,"click",4,"ngIf"],["width","30","class","mt-3","src","/assets/img/partials/star-g.svg","alt","",3,"click",4,"ngIf"],["width","30","src","/assets/img/partials/star.svg","alt","",1,"mt-3",3,"click"],["width","30","src","/assets/img/partials/star-g.svg","alt","",1,"mt-3",3,"click"],[1,"f-10","pr-3",3,"innerHTML"],[1,"cursor","font-700","f-10","text-color2",3,"click"],[1,"f-12","text-color2","font-700"]],template:function(t,i){1&t&&(u.Wb(0,"ion-header"),u.Wb(1,"header",0),u.Wb(2,"button",1),u.Jc(3,"Regresar"),u.Vb(),u.Vb(),u.Vb(),u.Wb(4,"ion-content"),u.Wb(5,"div",2),u.Sb(6,"img",3),u.Vb(),u.Wb(7,"div",4),u.Hc(8,D,17,9,"div",5),u.Vb(),u.Vb()),2&t&&(u.Db(2),u.oc("routerLink",u.rc(3,_)),u.Db(4),u.oc("routerLink",u.rc(4,F)),u.Db(2),u.oc("ngForOf",i.products))},directives:[r.e,r.s,o.k,r.d,c.k,c.l,c.m],pipes:[c.e],styles:[".linea[_ngcontent-%COMP%]{border-bottom:3px solid #e6e6e6}.item[_ngcontent-%COMP%]{box-shadow:1px 3px 8px 5px #c2c2c2;border-radius:10px}.item[_ngcontent-%COMP%]   .img-item[_ngcontent-%COMP%]{background-repeat:no-repeat;background-size:cover;background-color:#e6e6e6;background-position:50%;border-radius:10px 10px 0 0;min-width:23.1vw;max-width:23.1vw;max-height:23.1vw;min-height:23.1vw}.add[_ngcontent-%COMP%]{max-width:40px}@media (max-width:992px){.item[_ngcontent-%COMP%]   .img-item[_ngcontent-%COMP%]{min-width:85vw;max-width:85vw;max-height:85vw;min-height:85vw}}"]}),M)},{path:"edit-products/:id",loadChildren:function(){return Promise.all([e.e(2),e.e(5),e.e(32)]).then(e.bind(null,"xp4b")).then((function(t){return t.EditProductsPageModule}))}}],$=((H=function t(){_classCallCheck(this,t)}).\u0275mod=u.Pb({type:H}),H.\u0275inj=u.Ob({factory:function(t){return new(t||H)},imports:[[o.l.forChild(S)],o.l]}),H),J=((O=function t(){_classCallCheck(this,t)}).\u0275mod=u.Pb({type:O}),O.\u0275inj=u.Ob({factory:function(t){return new(t||O)},imports:[[c.c,n.c,r.o,$]]}),O)}}]);